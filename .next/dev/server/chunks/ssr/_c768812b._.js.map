{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/lib/store.ts"],"sourcesContent":["import { create } from \"zustand\"\nimport { persist } from \"zustand/middleware\"\nimport type { CanvasObject, Layer, User, ChatMessage, ToolType, BrushSettings, ShapeSettings, HistoryStep, CanvasSettings, Keybindings, Language, GridType, Project } from \"./types\"\n\nconst generateKey = () => {\n  return Math.random().toString(36).substring(2, 8).toUpperCase()\n}\n\nexport const DEFAULT_KEYBINDINGS: Keybindings = {\n  select: \"v\",\n  brush: \"b\",\n  eraser: \"e\",\n  shape: \"s\",\n  text: \"t\",\n  note: \"n\",\n  image: \"i\",\n}\n\ninterface HaloboardState {\n  activeView: \"dashboard\" | \"canvas\"\n  setActiveView: (view: \"dashboard\" | \"canvas\") => void\n  \n  isProjectMinimized: boolean\n  setIsProjectMinimized: (minimized: boolean) => void\n\n  projects: Project[]\n  currentProjectId: string | null\n  saveCurrentProject: (thumbnail?: string) => void // Added thumbnail param\n  loadProjectById: (id: string) => void\n  createNewProject: (settings: CanvasSettings) => void\n  deleteProject: (id: string) => void\n\n  projectKey: string\n  setProjectKey: (key: string) => void\n\n  canvasSettings: CanvasSettings\n  setCanvasSettings: (settings: Partial<CanvasSettings>) => void\n\n  objects: CanvasObject[]\n  layers: Layer[]\n  activeLayerId: string\n  selectedIds: string[]\n  clipboard: CanvasObject[]\n  \n  history: HistoryStep[]\n  historyIndex: number\n\n  showGrid: boolean\n  gridType: GridType\n  setGridType: (type: GridType) => void\n  showTransformHandles: boolean\n  maxUndoSteps: number\n  highlightColor: string\n  \n  language: Language\n  setLanguage: (lang: Language) => void\n\n  keybindings: Keybindings\n  setKeybinding: (action: keyof Keybindings, key: string) => void\n  resetKeybindings: () => void\n\n  activeTool: ToolType\n  brushSettings: BrushSettings\n  shapeSettings: ShapeSettings\n\n  users: User[]\n  currentUserId: string\n  chatMessages: ChatMessage[]\n\n  zoom: number\n  panX: number\n  panY: number\n  isPanning: boolean\n\n  showPropertiesPanel: boolean\n  showChat: boolean\n\n  setActiveTool: (tool: ToolType) => void\n  setBrushSettings: (settings: Partial<BrushSettings>) => void\n  setShapeSettings: (settings: Partial<ShapeSettings>) => void\n  setActiveLayer: (layerId: string) => void\n  \n  setShowGrid: (show: boolean) => void\n  setShowTransformHandles: (show: boolean) => void\n  setMaxUndoSteps: (steps: number) => void\n  setHighlightColor: (color: string) => void\n\n  loadProject: (data: Partial<HaloboardState>) => void\n  resetProject: (settings?: CanvasSettings) => void\n\n  addObject: (object: CanvasObject) => void\n  updateObject: (id: string, updates: Partial<CanvasObject>) => void\n  deleteObject: (id: string) => void\n  \n  setSelectedIds: (ids: string[]) => void\n  addLayer: (name: string) => void\n  updateLayer: (id: string, updates: Partial<Layer>) => void\n  deleteLayer: (id: string) => void\n  \n  moveLayer: (id: string, direction: 'up' | 'down') => void\n  reorderLayer: (fromIndex: number, toIndex: number) => void\n  moveObjectToLayer: (objectId: string, targetLayerId: string) => void\n  reorderObject: (objectId: string, direction: 'up' | 'down') => void \n  reorderObjectInLayer: (objectId: string, targetLayerId: string, newIndex: number) => void\n  \n  copy: () => void\n  paste: () => void\n  duplicate: () => void\n\n  undo: () => void\n  redo: () => void\n  setHistoryIndex: (index: number) => void\n  \n  addUser: (user: User) => void\n  updateUser: (id: string, updates: Partial<User>) => void\n  removeUser: (id: string) => void\n  addChatMessage: (message: ChatMessage) => void\n  setZoom: (zoom: number) => void\n  setPan: (x: number, y: number) => void\n  setIsPanning: (isPanning: boolean) => void\n  togglePropertiesPanel: () => void\n  toggleChat: () => void\n}\n\nexport const useHaloboardStore = create<HaloboardState>()(\n  persist(\n    (set, get) => ({\n      activeView: \"dashboard\",\n      setActiveView: (view) => set({ activeView: view, isProjectMinimized: view === \"dashboard\" }),\n      \n      isProjectMinimized: true,\n      setIsProjectMinimized: (minimized) => set({ isProjectMinimized: minimized, activeView: minimized ? \"dashboard\" : \"canvas\" }),\n\n      projects: [],\n      currentProjectId: null,\n\n      saveCurrentProject: (thumbnail) => {\n        const state = get()\n        if (!state.currentProjectId) return\n\n        // Find existing project to preserve thumbnail if not provided\n        const existingProject = state.projects.find(p => p.id === state.currentProjectId)\n\n        const currentProject: Project = {\n          id: state.currentProjectId,\n          name: state.canvasSettings.projectName,\n          lastEdited: Date.now(),\n          thumbnail: thumbnail || existingProject?.thumbnail, // Keep existing if new one isn't passed\n          data: {\n            objects: state.objects,\n            layers: state.layers,\n            canvasSettings: state.canvasSettings\n          }\n        }\n        \n        set((state) => {\n            const otherProjects = state.projects.filter(p => p.id !== currentProject.id)\n            return { projects: [currentProject, ...otherProjects] }\n        })\n      },\n\n      loadProjectById: (id) => {\n        const project = get().projects.find(p => p.id === id)\n        if (project) {\n          set({\n            currentProjectId: project.id,\n            objects: project.data.objects,\n            layers: project.data.layers,\n            canvasSettings: project.data.canvasSettings,\n            history: [{ objects: project.data.objects, layers: project.data.layers }],\n            historyIndex: 0,\n            activeView: \"canvas\",\n            isProjectMinimized: false\n          })\n        }\n      },\n\n      createNewProject: (settings) => {\n        const newId = generateKey()\n        set({\n          currentProjectId: newId,\n          activeView: \"canvas\",\n          isProjectMinimized: false,\n          canvasSettings: settings,\n          objects: [],\n          layers: [{ id: \"layer-1\", name: \"Layer 1\", opacity: 1, blendMode: \"normal\", visible: true, locked: false, objectIds: [] }],\n          history: [{ objects: [], layers: [{ id: \"layer-1\", name: \"Layer 1\", opacity: 1, blendMode: \"normal\", visible: true, locked: false, objectIds: [] }] }],\n          historyIndex: 0,\n          panX: 0, panY: 0, zoom: 1\n        })\n        get().saveCurrentProject()\n      },\n\n      deleteProject: (id) => set((state) => ({ projects: state.projects.filter(p => p.id !== id) })),\n\n      projectKey: generateKey(),\n      \n      canvasSettings: {\n        projectName: \"Untitled Project\",\n        infinite: true,\n        width: 1920,\n        height: 1080,\n        backgroundColor: \"#ffffff\"\n      },\n\n      objects: [],\n      layers: [{ id: \"layer-1\", name: \"Layer 1\", opacity: 1, blendMode: \"normal\", visible: true, locked: false, objectIds: [] }],\n      activeLayerId: \"layer-1\",\n      selectedIds: [],\n      clipboard: [],\n      \n      history: [{ objects: [], layers: [{ id: \"layer-1\", name: \"Layer 1\", opacity: 1, blendMode: \"normal\", visible: true, locked: false, objectIds: [] }] }],\n      historyIndex: 0,\n\n      showGrid: true,\n      gridType: \"dots\",\n      setGridType: (type) => set({ gridType: type }),\n      showTransformHandles: true,\n      maxUndoSteps: 50,\n      highlightColor: \"#0A84FF\",\n      \n      language: \"en\",\n      setLanguage: (lang) => set({ language: lang }),\n\n      keybindings: DEFAULT_KEYBINDINGS,\n      setKeybinding: (action, key) => set((state) => ({ keybindings: { ...state.keybindings, [action]: key } })),\n      resetKeybindings: () => set({ keybindings: DEFAULT_KEYBINDINGS }),\n\n      activeTool: \"select\",\n      brushSettings: { size: 5, opacity: 1, softness: 0.5, color: \"#000000\", eraserMode: \"object\" },\n      shapeSettings: { shapeType: \"rectangle\", fillColor: \"#E0E0E0\", strokeColor: \"#000000\", strokeWidth: 2, borderType: \"solid\", opacity: 1 },\n\n      users: [],\n      currentUserId: \"local-user\",\n      chatMessages: [],\n\n      zoom: 1,\n      panX: 0,\n      panY: 0,\n      isPanning: false,\n\n      showPropertiesPanel: true,\n      showChat: true,\n\n      setProjectKey: (key) => set({ projectKey: key }),\n      setCanvasSettings: (settings) => {\n         set((state) => ({ canvasSettings: { ...state.canvasSettings, ...settings } }))\n         get().saveCurrentProject()\n      },\n      setActiveTool: (tool) => set({ activeTool: tool }),\n      setBrushSettings: (settings) => set((state) => ({ brushSettings: { ...state.brushSettings, ...settings } })),\n      setShapeSettings: (settings) => set((state) => ({ shapeSettings: { ...state.shapeSettings, ...settings } })),\n      setActiveLayer: (layerId) => set({ activeLayerId: layerId }),\n\n      setShowGrid: (show) => set({ showGrid: show }),\n      setShowTransformHandles: (show) => set({ showTransformHandles: show }),\n      setMaxUndoSteps: (steps) => set({ maxUndoSteps: Math.min(200, Math.max(1, steps)) }),\n      setHighlightColor: (color) => set({ highlightColor: color }),\n\n      loadProject: (data) => {\n        set((state) => ({ ...state, ...data, history: data.history || [{ objects: data.objects || [], layers: data.layers || [] }], historyIndex: data.historyIndex || 0 }))\n        get().saveCurrentProject()\n      },\n\n      resetProject: (settings) => {\n        const newSettings = settings || { projectName: \"Untitled Project\", infinite: true, width: 1920, height: 1080, backgroundColor: \"#ffffff\" }\n        get().createNewProject(newSettings)\n      },\n\n      addObject: (object) => {\n        set((state) => {\n          if (!object.transform.anchor) object.transform.anchor = \"top-left\"\n          if (!object.name) object.name = `${object.type.charAt(0).toUpperCase() + object.type.slice(1)} ${state.objects.filter(o => o.type === object.type).length + 1}`\n\n          const updatedLayers = state.layers.map(layer => {\n            if (layer.id === state.activeLayerId) {\n              return { ...layer, objectIds: [object.id, ...layer.objectIds] }\n            }\n            return layer\n          })\n          const newObjects = [...state.objects, { ...object, layerId: state.activeLayerId }]\n          \n          const newHistory = state.history.slice(0, state.historyIndex + 1)\n          newHistory.push({ objects: newObjects, layers: updatedLayers })\n          if (newHistory.length > state.maxUndoSteps) newHistory.shift()\n          \n          return { objects: newObjects, layers: updatedLayers, history: newHistory, historyIndex: newHistory.length - 1 }\n        })\n        get().saveCurrentProject()\n      },\n\n      updateObject: (id, updates) => {\n        set((state) => {\n          const newObjects = state.objects.map((obj) => (obj.id === id ? { ...obj, ...updates } : obj))\n          return { objects: newObjects }\n        })\n        get().saveCurrentProject()\n      },\n\n      deleteObject: (id) => {\n        set((state) => {\n          const newObjects = state.objects.filter((obj) => obj.id !== id)\n          const newLayers = state.layers.map(layer => ({ ...layer, objectIds: layer.objectIds.filter(objId => objId !== id) }))\n          const newHistory = state.history.slice(0, state.historyIndex + 1)\n          newHistory.push({ objects: newObjects, layers: newLayers })\n          if (newHistory.length > state.maxUndoSteps) newHistory.shift()\n          return { objects: newObjects, layers: newLayers, selectedIds: state.selectedIds.filter((selectedId) => selectedId !== id), history: newHistory, historyIndex: newHistory.length - 1 }\n        })\n        get().saveCurrentProject()\n      },\n\n      setSelectedIds: (ids) => set({ selectedIds: ids }),\n\n      addLayer: (name) => {\n        set((state) => {\n          const newId = `layer-${Date.now()}`\n          const newLayer: Layer = { id: newId, name: name || `Layer ${state.layers.length + 1}`, opacity: 1, blendMode: \"normal\", visible: true, locked: false, objectIds: [] }\n          const newLayers = [newLayer, ...state.layers]\n          const newHistory = state.history.slice(0, state.historyIndex + 1)\n          newHistory.push({ objects: state.objects, layers: newLayers })\n          if (newHistory.length > state.maxUndoSteps) newHistory.shift()\n          return { layers: newLayers, activeLayerId: newId, history: newHistory, historyIndex: newHistory.length - 1 }\n        })\n        get().saveCurrentProject()\n      },\n\n      updateLayer: (id, updates) => {\n        set((state) => {\n          const newLayers = state.layers.map((layer) => (layer.id === id ? { ...layer, ...updates } : layer))\n          return { layers: newLayers }\n        })\n        get().saveCurrentProject()\n      },\n\n      deleteLayer: (id) => {\n        set((state) => {\n          const layerToDelete = state.layers.find(l => l.id === id); if (!layerToDelete) return state\n          const objectsToDelete = new Set(layerToDelete.objectIds)\n          const newObjects = state.objects.filter(obj => !objectsToDelete.has(obj.id))\n          const newLayers = state.layers.filter((layer) => layer.id !== id)\n          const newHistory = state.history.slice(0, state.historyIndex + 1)\n          newHistory.push({ objects: newObjects, layers: newLayers })\n          if (newHistory.length > state.maxUndoSteps) newHistory.shift()\n          return { layers: newLayers, objects: newObjects, activeLayerId: state.activeLayerId === id ? newLayers[0]?.id || \"\" : state.activeLayerId, history: newHistory, historyIndex: newHistory.length - 1 }\n        })\n        get().saveCurrentProject()\n      },\n\n      moveLayer: (id, direction) => {\n        set((state) => {\n          const index = state.layers.findIndex(l => l.id === id); if (index < 0) return state\n          const newLayers = [...state.layers]\n          if (direction === 'up' && index > 0) { [newLayers[index], newLayers[index - 1]] = [newLayers[index - 1], newLayers[index]] }\n          else if (direction === 'down' && index < newLayers.length - 1) { [newLayers[index], newLayers[index + 1]] = [newLayers[index + 1], newLayers[index]] }\n          return { layers: newLayers }\n        })\n        get().saveCurrentProject()\n      },\n\n      reorderLayer: (fromIndex, toIndex) => {\n        set((state) => {\n          const newLayers = [...state.layers]\n          const [movedLayer] = newLayers.splice(fromIndex, 1)\n          newLayers.splice(toIndex, 0, movedLayer)\n          return { layers: newLayers }\n        })\n        get().saveCurrentProject()\n      },\n\n      moveObjectToLayer: (objectId, targetLayerId) => {\n        set((state) => {\n          const obj = state.objects.find(o => o.id === objectId); if (!obj || obj.layerId === targetLayerId) return state\n          const newLayers = state.layers.map(l => {\n            if (l.id === obj.layerId) return { ...l, objectIds: l.objectIds.filter(id => id !== objectId) }\n            if (l.id === targetLayerId) return { ...l, objectIds: [objectId, ...l.objectIds] }\n            return l\n          })\n          const newObjects = state.objects.map(o => o.id === objectId ? { ...o, layerId: targetLayerId } : o)\n          return { layers: newLayers, objects: newObjects }\n        })\n        get().saveCurrentProject()\n      },\n\n      reorderObject: (objectId, direction) => {\n        set((state) => {\n          const obj = state.objects.find(o => o.id === objectId); if (!obj) return state\n          const layer = state.layers.find(l => l.id === obj.layerId); if (!layer) return state\n          const currentIdx = layer.objectIds.indexOf(objectId); if (currentIdx < 0) return state\n          const newObjectIds = [...layer.objectIds]\n          if (direction === 'up' && currentIdx > 0) {\n            [newObjectIds[currentIdx], newObjectIds[currentIdx - 1]] = [newObjectIds[currentIdx - 1], newObjectIds[currentIdx]]\n          } else if (direction === 'down' && currentIdx < newObjectIds.length - 1) {\n            [newObjectIds[currentIdx], newObjectIds[currentIdx + 1]] = [newObjectIds[currentIdx + 1], newObjectIds[currentIdx]]\n          } else { return state }\n          const newLayers = state.layers.map(l => l.id === layer.id ? { ...l, objectIds: newObjectIds } : l)\n          return { layers: newLayers }\n        })\n        get().saveCurrentProject()\n      },\n\n      reorderObjectInLayer: (objectId, targetLayerId, newIndex) => {\n        set((state) => {\n          const obj = state.objects.find(o => o.id === objectId); if (!obj) return state\n          const sourceLayer = state.layers.find(l => l.id === obj.layerId); if (!sourceLayer) return state\n          let newLayers = [...state.layers]\n          newLayers = newLayers.map(l => {\n            if (l.id === obj.layerId) return { ...l, objectIds: l.objectIds.filter(id => id !== objectId) }\n            return l\n          })\n          newLayers = newLayers.map(l => {\n            if (l.id === targetLayerId) {\n              const newIds = [...l.objectIds]\n              newIds.splice(newIndex, 0, objectId)\n              return { ...l, objectIds: newIds }\n            }\n            return l\n          })\n          const newObjects = state.objects.map(o => o.id === objectId ? { ...o, layerId: targetLayerId } : o)\n          return { layers: newLayers, objects: newObjects }\n        })\n        get().saveCurrentProject()\n      },\n\n      copy: () => set((state) => {\n        const selected = state.objects.filter(o => state.selectedIds.includes(o.id))\n        return { clipboard: selected }\n      }),\n\n      paste: () => {\n        set((state) => {\n          if (state.clipboard.length === 0) return state\n          const newObjects: CanvasObject[] = []\n          const pastedIds: string[] = []\n          state.clipboard.forEach(item => {\n            const newId = `${item.type}-${Date.now()}-${Math.random()}`\n            const newObj = {\n              ...item, id: newId, layerId: state.activeLayerId, name: item.name + \" Copy\",\n              transform: { ...item.transform, x: item.transform.x + 20, y: item.transform.y + 20 }\n            }\n            newObjects.push(newObj)\n            pastedIds.push(newId)\n          })\n          const updatedLayers = state.layers.map(layer => {\n            if (layer.id === state.activeLayerId) return { ...layer, objectIds: [ ...pastedIds, ...layer.objectIds] }\n            return layer\n          })\n          const finalObjects = [...state.objects, ...newObjects]\n          return { objects: finalObjects, layers: updatedLayers, selectedIds: pastedIds }\n        })\n        get().saveCurrentProject()\n      },\n\n      duplicate: () => { const state = get(); state.copy(); state.paste() },\n      undo: () => {\n        set((state) => { if (state.historyIndex > 0) { const prevStep = state.history[state.historyIndex - 1]; return { objects: prevStep.objects, layers: prevStep.layers, historyIndex: state.historyIndex - 1 } } return state })\n        get().saveCurrentProject()\n      },\n      redo: () => {\n        set((state) => { if (state.historyIndex < state.history.length - 1) { const nextStep = state.history[state.historyIndex + 1]; return { objects: nextStep.objects, layers: nextStep.layers, historyIndex: state.historyIndex + 1 } } return state })\n        get().saveCurrentProject()\n      },\n      setHistoryIndex: (index) => set((state) => { if (index >= 0 && index < state.history.length) { const step = state.history[index]; return { objects: step.objects, layers: step.layers, historyIndex: index } } return state }),\n\n      addUser: (user) => set((state) => ({ users: [...state.users, user] })),\n      updateUser: (id, updates) => set((state) => ({ users: state.users.map((user) => (user.id === id ? { ...user, ...updates } : user)) })),\n      removeUser: (id) => set((state) => ({ users: state.users.filter((user) => user.id !== id) })),\n      addChatMessage: (message) => set((state) => ({ chatMessages: [...state.chatMessages, message] })),\n      setZoom: (zoom) => set({ zoom: Math.max(0.1, Math.min(zoom, 5)) }),\n      setPan: (x, y) => set({ panX: x, panY: y }),\n      setIsPanning: (isPanning) => set({ isPanning }),\n      togglePropertiesPanel: () => set((state) => ({ showPropertiesPanel: !state.showPropertiesPanel })),\n      toggleChat: () => set((state) => ({ showChat: !state.showChat })),\n    }),\n    {\n      name: 'haloboard-storage',\n      partialize: (state) => ({\n        highlightColor: state.highlightColor,\n        maxUndoSteps: state.maxUndoSteps,\n        brushSettings: state.brushSettings,\n        shapeSettings: state.shapeSettings,\n        showGrid: state.showGrid,\n        showTransformHandles: state.showTransformHandles,\n        keybindings: state.keybindings,\n        language: state.language,\n        gridType: state.gridType,\n        projects: state.projects,\n        currentProjectId: state.currentProjectId,\n        isProjectMinimized: state.isProjectMinimized,\n        activeView: state.activeView\n      }),\n    }\n  )\n)"],"names":[],"mappings":"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"}},
    {"offset": {"line": 717, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/lib/collaboration.ts"],"sourcesContent":["import type { CanvasObject, Point } from \"./types\"\n\n// DUMMY MANAGER: Does nothing, ensuring zero RAM usage for online features\nexport class CollaborationManager {\n  constructor(roomId: string) {\n    console.log(\"Collaboration is currently disabled.\")\n  }\n\n  public broadcastObject(object: CanvasObject) {}\n  public broadcastCursor(position: Point) {}\n  public broadcastDelete(objectId: string) {}\n  public disconnect() {}\n}\n\n// Hook always returns null, preventing any logic from running in components\nexport function useCollaboration(roomId: string = \"\") {\n  return null\n}\n"],"names":[],"mappings":";;;;;;AAGO,MAAM;IACX,YAAY,MAAc,CAAE;QAC1B,QAAQ,GAAG,CAAC;IACd;IAEO,gBAAgB,MAAoB,EAAE,CAAC;IACvC,gBAAgB,QAAe,EAAE,CAAC;IAClC,gBAAgB,QAAgB,EAAE,CAAC;IACnC,aAAa,CAAC;AACvB;AAGO,SAAS,iBAAiB,SAAiB,EAAE;IAClD,OAAO;AACT"}},
    {"offset": {"line": 739, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/lib/i18n.ts"],"sourcesContent":["import { useHaloboardStore } from \"@/lib/store\"\nimport type { Language } from \"@/lib/types\"\n\nconst translations = {\n  en: {\n    dashboard: \"Dashboard\",\n    myBoards: \"My Boards\",\n    recent: \"Recent\",\n    favorites: \"Favorites\",\n    sharedWithMe: \"Shared with Me\",\n    trash: \"Trash\",\n    searchBoards: \"Search boards...\",\n    edited: \"Edited\",\n    welcomeBack: \"Welcome Back\",\n    continueOldProject: \"Would you like to continue your old project?\",\n    yesContinue: \"Yes, continue\",\n    noDashboard: \"No, go to dashboard\",\n    // ... existing keys\n    gridType: \"Grid Type\",\n    dots: \"Dots\",\n    lines: \"Lines\",\n    cross: \"Cross\",\n    grid: \"Grid\",\n    untitledProject: \"Untitled Project\",\n    newProject: \"New Project\",\n    openTpad: \"Open .tpad File\",\n    importImage: \"Import Image\",\n    share: \"Share\",\n    settings: \"Settings\",\n    showGrid: \"Show Grid\",\n    darkMode: \"Dark Mode\",\n    maxUndoSteps: \"Max Undo Steps\",\n    highlightColor: \"Highlight Color\",\n    keybindings: \"Keybindings\",\n    language: \"Language\",\n    resetDefaults: \"Reset Defaults\",\n    done: \"Done\",\n    export: \"Export\",\n    exportAs: \"Export as\",\n    exportTPAD: \"Export as .tpad\",\n    exportPSD: \"Export as PSD\",\n    exportPNG: \"Export as PNG\",\n    exportSVG: \"Export as SVG\",\n    exportJSON: \"Export as JSON\",\n    layers: \"Layers\",\n    properties: \"Properties\",\n    history: \"History\",\n    chat: \"Chat\",\n    shapeTool: \"Shape Tool Config\",\n    brushSettings: \"Brush Settings\",\n    eraserSettings: \"Eraser Settings\",\n    imageSettings: \"Image Settings\",\n    textStyles: \"Text Styles\",\n    noteStyles: \"Note Styles\",\n    strokeColor: \"Stroke Color\",\n    fillColor: \"Fill Color\",\n    opacity: \"Opacity\",\n    size: \"Size\",\n    position: \"Position\",\n    rotation: \"Rotation\",\n    align: \"Alignment\",\n    verticalAlign: \"Vertical Alignment\",\n    anchorPoint: \"Anchor Point\",\n    font: \"Font\",\n    background: \"Background\",\n    stack: \"Stack\",\n    newLayer: \"New Layer\",\n    layer: \"Layer\",\n    undo: \"Undo\",\n    redo: \"Redo\",\n    initialState: \"Initial State\",\n    action: \"Action\",\n    current: \"Current\",\n    autoSaveMessage: \"TeamPad automatically saves all your projects! No need to worry!\",\n    clickToEdit: \"Click to edit\",\n    newNote: \"New note\",\n    tools: {\n      select: \"Select\",\n      brush: \"Brush\",\n      eraser: \"Eraser\",\n      shape: \"Shapes\",\n      text: \"Text\",\n      note: \"Sticky Note\",\n      image: \"Image\"\n    }\n  },\n  tr: {\n    dashboard: \"Kontrol Paneli\",\n    myBoards: \"Panolarım\",\n    recent: \"Son Kullanılanlar\",\n    favorites: \"Favoriler\",\n    sharedWithMe: \"Benimle Paylaşılanlar\",\n    trash: \"Çöp Kutusu\",\n    searchBoards: \"Pano ara...\",\n    edited: \"Düzenlendi\",\n    welcomeBack: \"Tekrar Hoşgeldiniz\",\n    continueOldProject: \"Eski projenize devam etmek ister misiniz?\",\n    yesContinue: \"Evet, devam et\",\n    noDashboard: \"Hayır, panele git\",\n    // ... existing keys\n    gridType: \"Izgara Tipi\",\n    dots: \"Noktalar\",\n    lines: \"Çizgiler\",\n    cross: \"Artı\",\n    grid: \"Kare\",\n    untitledProject: \"Adsız Proje\",\n    newProject: \"Yeni Proje\",\n    openTpad: \".tpad Dosyası Aç\",\n    importImage: \"Resim İçe Aktar\",\n    share: \"Paylaş\",\n    settings: \"Ayarlar\",\n    showGrid: \"Izgarayı Göster\",\n    darkMode: \"Karanlık Mod\",\n    maxUndoSteps: \"Maks. Geri Alma\",\n    highlightColor: \"Vurgu Rengi\",\n    keybindings: \"Tuş Atamaları\",\n    language: \"Dil\",\n    resetDefaults: \"Varsayılana Dön\",\n    done: \"Tamam\",\n    export: \"Dışa Aktar\",\n    exportAs: \"Olarak Dışa Aktar\",\n    exportTPAD: \".tpad Olarak Dışa Aktar\",\n    exportPSD: \"PSD Olarak Dışa Aktar\",\n    exportPNG: \"PNG Olarak Dışa Aktar\",\n    exportSVG: \"SVG Olarak Dışa Aktar\",\n    exportJSON: \"JSON Olarak Dışa Aktar\",\n    layers: \"Katmanlar\",\n    properties: \"Özellikler\",\n    history: \"Geçmiş\",\n    chat: \"Sohbet\",\n    shapeTool: \"Şekil Aracı\",\n    brushSettings: \"Fırça Ayarları\",\n    eraserSettings: \"Silgi Ayarları\",\n    imageSettings: \"Resim Ayarları\",\n    textStyles: \"Yazı Stilleri\",\n    noteStyles: \"Not Stilleri\",\n    strokeColor: \"Çizgi Rengi\",\n    fillColor: \"Dolgu Rengi\",\n    opacity: \"Opaklık\",\n    size: \"Boyut\",\n    position: \"Konum\",\n    rotation: \"Döndürme\",\n    align: \"Hizalama\",\n    verticalAlign: \"Dikey Hizalama\",\n    anchorPoint: \"Bağlantı Noktası\",\n    font: \"Yazı Tipi\",\n    background: \"Arkaplan\",\n    stack: \"Yığın\",\n    newLayer: \"Yeni Katman\",\n    layer: \"Katman\",\n    undo: \"Geri Al\",\n    redo: \"Yinele\",\n    initialState: \"Başlangıç\",\n    action: \"İşlem\",\n    current: \"Mevcut\",\n    autoSaveMessage: \"TeamPad projelerinizi otomatik olarak kaydeder! Endişelenmenize gerek yok!\",\n    clickToEdit: \"Düzenlemek için tıkla\",\n    newNote: \"Yeni not\",\n    tools: {\n      select: \"Seçim\",\n      brush: \"Fırça\",\n      eraser: \"Silgi\",\n      shape: \"Şekiller\",\n      text: \"Metin\",\n      note: \"Yapışkan Not\",\n      image: \"Resim\"\n    }\n  },\n  ru: {\n    dashboard: \"Панель управления\",\n    myBoards: \"Мои доски\",\n    recent: \"Недавние\",\n    favorites: \"Избранное\",\n    sharedWithMe: \"Доступные мне\",\n    trash: \"Корзина\",\n    searchBoards: \"Поиск досок...\",\n    edited: \"Изменено\",\n    welcomeBack: \"С возвращением\",\n    continueOldProject: \"Хотите продолжить старый проект?\",\n    yesContinue: \"Да, продолжить\",\n    noDashboard: \"Нет, на панель\",\n    // ... existing keys\n    gridType: \"Тип Сетки\",\n    dots: \"Точки\",\n    lines: \"Линии\",\n    cross: \"Крест\",\n    grid: \"Сетка\",\n    untitledProject: \"Безымянный проект\",\n    newProject: \"Новый проект\",\n    openTpad: \"Открыть .tpad\",\n    importImage: \"Импорт изобр.\",\n    share: \"Поделиться\",\n    settings: \"Настройки\",\n    showGrid: \"Показать сетку\",\n    darkMode: \"Темный режим\",\n    maxUndoSteps: \"Макс. отмен\",\n    highlightColor: \"Цвет выделения\",\n    keybindings: \"Горячие клавиши\",\n    language: \"Язык\",\n    resetDefaults: \"Сбросить\",\n    done: \"Готово\",\n    export: \"Экспорт\",\n    exportAs: \"Экспорт как\",\n    exportTPAD: \"Экспорт в .tpad\",\n    exportPSD: \"Экспорт в PSD\",\n    exportPNG: \"Экспорт в PNG\",\n    exportSVG: \"Экспорт в SVG\",\n    exportJSON: \"Экспорт в JSON\",\n    layers: \"Слои\",\n    properties: \"Свойства\",\n    history: \"История\",\n    chat: \"Чат\",\n    shapeTool: \"Настр. фигуры\",\n    brushSettings: \"Настр. кисти\",\n    eraserSettings: \"Настр. ластика\",\n    imageSettings: \"Настр. изобр.\",\n    textStyles: \"Стили текста\",\n    noteStyles: \"Стили заметки\",\n    strokeColor: \"Цвет штриха\",\n    fillColor: \"Цвет заливки\",\n    opacity: \"Прозрачность\",\n    size: \"Размер\",\n    position: \"Позиция\",\n    rotation: \"Вращение\",\n    align: \"Выравнивание\",\n    verticalAlign: \"Верт. выравнивание\",\n    anchorPoint: \"Якорная точка\",\n    font: \"Шрифт\",\n    background: \"Фон\",\n    stack: \"Стопка\",\n    newLayer: \"Новый слой\",\n    layer: \"Слой\",\n    undo: \"Отменить\",\n    redo: \"Повторить\",\n    initialState: \"Начало\",\n    action: \"Действие\",\n    current: \"Тек.\",\n    autoSaveMessage: \"TeamPad автоматически сохраняет все ваши проекты! Не волнуйтесь!\",\n    clickToEdit: \"Нажмите для ред.\",\n    newNote: \"Новая заметка\",\n    tools: {\n      select: \"Выбор\",\n      brush: \"Кисть\",\n      eraser: \"Ластик\",\n      shape: \"Фигуры\",\n      text: \"Текст\",\n      note: \"Заметка\",\n      image: \"Изображение\"\n    }\n  },\n  es: {\n    dashboard: \"Tablero\",\n    myBoards: \"Mis Pizarras\",\n    recent: \"Recientes\",\n    favorites: \"Favoritos\",\n    sharedWithMe: \"Compartidos conmigo\",\n    trash: \"Papelera\",\n    searchBoards: \"Buscar pizarras...\",\n    edited: \"Editado\",\n    welcomeBack: \"Bienvenido de nuevo\",\n    continueOldProject: \"¿Quieres continuar tu proyecto anterior?\",\n    yesContinue: \"Sí, continuar\",\n    noDashboard: \"No, ir al tablero\",\n    // ... existing keys\n    gridType: \"Tipo de Cuadrícula\",\n    dots: \"Puntos\",\n    lines: \"Líneas\",\n    cross: \"Cruz\",\n    grid: \"Cuadrícula\",\n    untitledProject: \"Proyecto sin título\",\n    newProject: \"Nuevo Proyecto\",\n    openTpad: \"Abrir archivo .tpad\",\n    importImage: \"Importar Imagen\",\n    share: \"Compartir\",\n    settings: \"Ajustes\",\n    showGrid: \"Mostrar cuadrícula\",\n    darkMode: \"Modo oscuro\",\n    maxUndoSteps: \"Pasos de deshacer\",\n    highlightColor: \"Color de resaltado\",\n    keybindings: \"Atajos de teclado\",\n    language: \"Idioma\",\n    resetDefaults: \"Restablecer\",\n    done: \"Hecho\",\n    export: \"Exportar\",\n    exportAs: \"Exportar como\",\n    exportTPAD: \"Exportar como .tpad\",\n    exportPSD: \"Exportar como PSD\",\n    exportPNG: \"Exportar como PNG\",\n    exportSVG: \"Exportar como SVG\",\n    exportJSON: \"Exportar como JSON\",\n    layers: \"Capas\",\n    properties: \"Propiedades\",\n    history: \"Historial\",\n    chat: \"Chat\",\n    shapeTool: \"Config. de Forma\",\n    brushSettings: \"Config. de Pincel\",\n    eraserSettings: \"Config. de Borrador\",\n    imageSettings: \"Config. de Imagen\",\n    textStyles: \"Estilos de Texto\",\n    noteStyles: \"Estilos de Nota\",\n    strokeColor: \"Color de trazo\",\n    fillColor: \"Color de relleno\",\n    opacity: \"Opacidad\",\n    size: \"Tamaño\",\n    position: \"Posición\",\n    rotation: \"Rotación\",\n    align: \"Alineación\",\n    verticalAlign: \"Alineación Vertical\",\n    anchorPoint: \"Punto de Anclaje\",\n    font: \"Fuente\",\n    background: \"Fondo\",\n    stack: \"Pila\",\n    newLayer: \"Nueva Capa\",\n    layer: \"Capa\",\n    undo: \"Deshacer\",\n    redo: \"Rehacer\",\n    initialState: \"Estado Inicial\",\n    action: \"Acción\",\n    current: \"Actual\",\n    autoSaveMessage: \"¡TeamPad guarda automáticamente todos tus proyectos! ¡No te preocupes!\",\n    clickToEdit: \"Clic para editar\",\n    newNote: \"Nueva nota\",\n    tools: {\n      select: \"Seleccionar\",\n      brush: \"Pincel\",\n      eraser: \"Borrador\",\n      shape: \"Formas\",\n      text: \"Texto\",\n      note: \"Nota Adhesiva\",\n      image: \"Imagen\"\n    }\n  }\n}\n\nexport function useTranslation() {\n  const language = useHaloboardStore((state) => state.language)\n  const t = (key: string, category?: string) => {\n    const langData = translations[language] || translations.en\n    if (category && (langData as any)[category]) {\n      return (langData as any)[category][key] || key\n    }\n    return (langData as any)[key] || key\n  }\n  return { t, language }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1093, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/canvas.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useEffect, useRef, useState } from \"react\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport type { Point, CanvasObject, PathData, ShapeData, TextData, NoteData, ImageData, AnchorPosition } from \"@/lib/types\"\nimport { useCollaboration } from \"@/lib/collaboration\"\nimport { useTheme } from \"next-themes\"\nimport { useTranslation } from \"@/lib/i18n\"\n\nexport function Canvas() {\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n  const textAreaRef = useRef<HTMLTextAreaElement>(null)\n  const imageCache = useRef<Record<string, HTMLImageElement>>({})\n  \n  // Visual State\n  const [interactionMode, setInteractionMode] = useState<'none' | 'drawing' | 'moving' | 'resizing' | 'rotating' | 'selecting'>('none')\n  const [isDrawing, setIsDrawing] = useState(false)\n  const [currentPath, setCurrentPath] = useState<Point[]>([])\n  const [startPoint, setStartPoint] = useState<Point | null>(null)\n  const [currentMousePos, setCurrentMousePos] = useState<Point | null>(null)\n  \n  // Logic Refs\n  const dragStartRef = useRef<Point | null>(null)\n  const currentMousePosRef = useRef<Point | null>(null)\n  const interactionModeRef = useRef<'none' | 'drawing' | 'moving' | 'resizing' | 'rotating' | 'selecting'>('none')\n  const activeHandleRef = useRef<string | null>(null)\n  const initialObjectStateRef = useRef<CanvasObject | null>(null)\n  const initialObjectsMapRef = useRef<Map<string, CanvasObject>>(new Map())\n  const startPointRef = useRef<Point | null>(null)\n\n  // Inline Editing State\n  const [editingTextId, setEditingTextId] = useState<string | null>(null)\n  const [editText, setEditText] = useState(\"\")\n\n  const { theme } = useTheme()\n  useCollaboration()\n  const { t } = useTranslation()\n\n  const {\n    objects,\n    layers,\n    activeTool,\n    setActiveTool,\n    brushSettings,\n    shapeSettings,\n    canvasSettings,\n    activeLayerId,\n    zoom,\n    panX,\n    panY,\n    isPanning,\n    selectedIds,\n    addObject,\n    updateObject,\n    deleteObject, \n    setIsPanning,\n    setPan,\n    setSelectedIds,\n    showGrid,\n    gridType, \n    showTransformHandles,\n    highlightColor,\n    setZoom,\n    copy, paste, duplicate,\n    keybindings\n  } = useHaloboardStore()\n\n  useEffect(() => {\n    const canvas = canvasRef.current; const container = containerRef.current\n    if (!canvas || !container) return; const ctx = canvas.getContext(\"2d\"); if (!ctx) return\n    const updateSize = () => {\n      const dpr = window.devicePixelRatio || 1\n      const rect = container.getBoundingClientRect()\n      canvas.width = rect.width * dpr\n      canvas.height = rect.height * dpr\n      ctx.scale(dpr, dpr)\n      renderCanvas()\n    }\n    const observer = new ResizeObserver(updateSize)\n    observer.observe(container)\n    updateSize()\n    return () => observer.disconnect()\n  }, [])\n\n  // Prevent Browser Zoom\n  useEffect(() => {\n    const handleWheel = (e: WheelEvent) => {\n      if (e.ctrlKey || e.metaKey) {\n        e.preventDefault();\n      }\n    };\n    // Attach to window to catch it globally while app is focused\n    window.addEventListener(\"wheel\", handleWheel, { passive: false });\n    return () => window.removeEventListener(\"wheel\", handleWheel);\n  }, []);\n\n  useEffect(() => { renderCanvas() }, [objects, zoom, panX, panY, selectedIds, layers, showGrid, gridType, highlightColor, interactionMode, currentMousePos, theme, canvasSettings, currentPath, showTransformHandles, editingTextId])\n\n  // --- Helpers ---\n  const getObjectSize = (obj: CanvasObject) => {\n    switch (obj.type) {\n      case \"path\": const d = obj.data as PathData; if (d.points.length < 2) return { width: 0, height: 0 }; const xs = d.points.map(p=>p.x); const ys = d.points.map(p=>p.y); return { width: Math.max(...xs)-Math.min(...xs), height: Math.max(...ys)-Math.min(...ys) }\n      case \"shape\": return { width: (obj.data as ShapeData).width, height: (obj.data as ShapeData).height }\n      case \"text\": return { width: (obj.data as TextData).width, height: (obj.data as TextData).height }\n      case \"note\": return { width: (obj.data as NoteData).width, height: (obj.data as NoteData).height }\n      case \"image\": return { width: (obj.data as ImageData).width, height: (obj.data as ImageData).height }\n    }\n    return { width: 0, height: 0 }\n  }\n  \n  const getAnchorOffset = (obj: CanvasObject, width: number, height: number) => {\n    const anchor = obj.transform.anchor || 'center' // Default to Center\n    let x = 0, y = 0\n    if (anchor.includes('center')) x = width / 2\n    if (anchor.includes('right')) x = width\n    if (anchor.includes('bottom')) y = height\n    if (anchor === 'center-left') y = height / 2\n    if (anchor === 'center-right') y = height / 2\n    if (anchor === 'center') { x = width / 2; y = height / 2 }\n    return { x, y }\n  }\n  \n  const getObjectBounds = (obj: CanvasObject) => { const s = getObjectSize(obj); return { x: 0, y: 0, ...s } }\n\n  // --- Renderer ---\n  const renderCanvas = () => {\n    const canvas = canvasRef.current; if (!canvas) return; const ctx = canvas.getContext(\"2d\"); if (!ctx) return\n    const logicalWidth = canvas.width / (window.devicePixelRatio || 1); const logicalHeight = canvas.height / (window.devicePixelRatio || 1)\n    \n    if (theme === 'dark') { ctx.fillStyle = \"#171717\"; ctx.fillRect(0, 0, logicalWidth, logicalHeight) } \n    else { ctx.clearRect(0, 0, logicalWidth, logicalHeight) }\n\n    // INFINITE GRID RENDERING\n    if (showGrid) {\n        ctx.save()\n        const gridSize = 20\n        const gridColor = theme === 'dark' ? \"rgba(255,255,255,0.1)\" : \"rgba(0,0,0,0.1)\"\n        \n        // Calculate visual bounds in world coordinates\n        // -panX/zoom is the left edge of the screen in world coords\n        const startX = -panX / zoom\n        const startY = -panY / zoom\n        const endX = startX + logicalWidth / zoom\n        const endY = startY + logicalHeight / zoom\n\n        // Align start to grid\n        const left = Math.floor(startX / gridSize) * gridSize\n        const top = Math.floor(startY / gridSize) * gridSize\n        const right = Math.ceil(endX / gridSize) * gridSize\n        const bottom = Math.ceil(endY / gridSize) * gridSize\n\n        ctx.translate(panX, panY)\n        ctx.scale(zoom, zoom)\n\n        ctx.lineWidth = 1 / zoom\n        ctx.strokeStyle = gridColor\n        ctx.fillStyle = gridColor\n\n        ctx.beginPath()\n        \n        // Render optimized grid\n        if (gridType === 'lines' || gridType === 'grid') {\n             // Vertical lines\n             for (let x = left; x <= right; x += gridSize) {\n                ctx.moveTo(x, top)\n                ctx.lineTo(x, bottom)\n             }\n             // Horizontal lines (if grid)\n             if (gridType === 'grid') {\n                 for (let y = top; y <= bottom; y += gridSize) {\n                    ctx.moveTo(left, y)\n                    ctx.lineTo(right, y)\n                 }\n             }\n        } else {\n            // Dots or Crosses\n            for (let x = left; x <= right; x += gridSize) {\n                for (let y = top; y <= bottom; y += gridSize) {\n                    if (gridType === 'dots') {\n                        ctx.fillRect(x - 1/zoom, y - 1/zoom, 2/zoom, 2/zoom)\n                    } else if (gridType === 'cross') {\n                        const size = 4 / zoom\n                        ctx.moveTo(x - size, y)\n                        ctx.lineTo(x + size, y)\n                        ctx.moveTo(x, y - size)\n                        ctx.lineTo(x, y + size)\n                    }\n                }\n            }\n        }\n        ctx.stroke()\n        ctx.restore()\n    }\n\n    ctx.save()\n    ctx.translate(panX, panY)\n    ctx.scale(zoom, zoom)\n\n    if (!canvasSettings.infinite) {\n      ctx.shadowColor = \"rgba(0,0,0,0.1)\"; ctx.shadowBlur = 20; ctx.shadowOffsetY = 4\n      ctx.fillStyle = canvasSettings.backgroundColor; ctx.fillRect(0, 0, canvasSettings.width, canvasSettings.height)\n      ctx.shadowColor = \"transparent\"\n    }\n\n    const layersToRender = [...layers].reverse()\n    layersToRender.forEach(layer => {\n      if (!layer.visible) return\n      const objectsToRenderIds = [...layer.objectIds].reverse()\n      objectsToRenderIds.forEach(objId => {\n        const obj = objects.find(o => o.id === objId)\n        if (!obj || obj.id === editingTextId) return\n        const { width, height } = getObjectSize(obj)\n        const anchor = getAnchorOffset(obj, width, height)\n        \n        ctx.save()\n        ctx.translate(obj.transform.x, obj.transform.y)\n        ctx.translate(anchor.x * obj.transform.scaleX, anchor.y * obj.transform.scaleY)\n        ctx.rotate((obj.transform.rotation * Math.PI) / 180)\n        ctx.scale(obj.transform.scaleX, obj.transform.scaleY)\n        ctx.translate(-anchor.x, -anchor.y)\n\n        switch (obj.type) { \n          case \"path\": renderPath(ctx, obj); break; \n          case \"shape\": renderShape(ctx, obj); break; \n          case \"text\": renderText(ctx, obj); break; \n          case \"note\": renderNote(ctx, obj); break; \n          case \"image\": renderImage(ctx, obj); break; \n        }\n        ctx.restore()\n        if (selectedIds.includes(obj.id) && obj.id !== editingTextId) renderSelection(ctx, obj)\n      })\n    })\n\n    if (interactionMode === 'drawing' && activeTool === 'brush' && currentPath.length > 1) {\n      ctx.save(); ctx.globalAlpha = brushSettings.opacity; ctx.strokeStyle = brushSettings.color; ctx.lineWidth = brushSettings.size\n      ctx.lineCap = \"round\"; ctx.lineJoin = \"round\"; ctx.setLineDash([]); ctx.beginPath(); ctx.moveTo(currentPath[0].x, currentPath[0].y)\n      for (let i = 1; i < currentPath.length; i++) ctx.lineTo(currentPath[i].x, currentPath[i].y)\n      ctx.stroke(); ctx.restore()\n    }\n\n    if (interactionMode === 'selecting' && dragStartRef.current && currentMousePos) {\n      const dragStart = dragStartRef.current\n      const x = Math.min(dragStart.x, currentMousePos.x)\n      const y = Math.min(dragStart.y, currentMousePos.y)\n      const w = Math.abs(currentMousePos.x - dragStart.x)\n      const h = Math.abs(currentMousePos.y - dragStart.y)\n      \n      ctx.save()\n      ctx.fillStyle = `${highlightColor}20`\n      ctx.strokeStyle = highlightColor\n      ctx.lineWidth = 1 / zoom\n      ctx.fillRect(x, y, w, h)\n      ctx.strokeRect(x, y, w, h)\n      ctx.restore()\n    }\n\n    if ((activeTool === 'brush' || activeTool === 'eraser') && currentMousePos) {\n      ctx.save(); ctx.beginPath(); ctx.arc(currentMousePos.x, currentMousePos.y, brushSettings.size / 2, 0, Math.PI * 2)\n      ctx.strokeStyle = '#888'; ctx.fillStyle = activeTool === 'eraser' ? 'rgba(255,255,255,0.3)' : brushSettings.color + '33'\n      ctx.lineWidth = 1 / zoom; ctx.fill(); ctx.stroke(); ctx.restore()\n    }\n    ctx.restore()\n  }\n\n  // Render Helpers\n  const renderPath = (ctx: CanvasRenderingContext2D, obj: CanvasObject) => { const data = obj.data as PathData; if (data.points.length < 2) return; ctx.globalAlpha = data.opacity; ctx.strokeStyle = data.strokeColor; ctx.lineWidth = data.strokeWidth; ctx.lineCap = \"round\"; ctx.lineJoin = \"round\"; ctx.setLineDash([]); ctx.beginPath(); ctx.moveTo(data.points[0].x, data.points[0].y); for (let i = 1; i < data.points.length; i++) ctx.lineTo(data.points[i].x, data.points[i].y); ctx.stroke() }\n  const renderShape = (ctx: CanvasRenderingContext2D, obj: CanvasObject) => { const data = obj.data as ShapeData; ctx.globalAlpha = data.opacity; ctx.setLineDash([]); let lineWidth = data.strokeWidth; if (data.borderType === 'dashed') ctx.setLineDash([10, 10]); if (data.borderType === 'dotted') ctx.setLineDash([3, 5]); if (data.borderType === 'bold') lineWidth = data.strokeWidth * 2; if (data.borderType === 'none') lineWidth = 0; ctx.lineWidth = lineWidth; ctx.strokeStyle = data.strokeColor; ctx.fillStyle = data.fillColor; ctx.beginPath(); const w = data.width, h = data.height; switch (data.shapeType) { case \"rectangle\": ctx.rect(0, 0, w, h); break; case \"rounded_rectangle\": ctx.roundRect(0, 0, w, h, Math.min(w, h) * 0.2); break; case \"ellipse\": ctx.ellipse(w / 2, h / 2, Math.abs(w) / 2, Math.abs(h) / 2, 0, 0, Math.PI * 2); break; case \"circle\": ctx.ellipse(w / 2, h / 2, Math.min(Math.abs(w), Math.abs(h)) / 2, Math.min(Math.abs(w), Math.abs(h)) / 2, 0, 0, Math.PI * 2); break; case \"line\": ctx.moveTo(0, 0); ctx.lineTo(w, h); break; case \"triangle\": ctx.moveTo(w / 2, 0); ctx.lineTo(w, h); ctx.lineTo(0, h); ctx.closePath(); break; case \"arrow\": { const head = Math.min(Math.abs(w), Math.abs(h)) * 0.3; ctx.moveTo(0, h/3); ctx.lineTo(w-head, h/3); ctx.lineTo(w-head, 0); ctx.lineTo(w, h/2); ctx.lineTo(w-head, h); ctx.lineTo(w-head, h*2/3); ctx.lineTo(0, h*2/3); ctx.closePath(); break; } case \"star\": { const cx = w/2, cy = h/2, or = Math.min(w, h)/2, ir = or/2.5; for(let i=0; i<10; i++) { const r = i%2===0 ? or : ir; const a = (Math.PI/5)*i - Math.PI/2; i===0 ? ctx.moveTo(cx+Math.cos(a)*r, cy+Math.sin(a)*r) : ctx.lineTo(cx+Math.cos(a)*r, cy+Math.sin(a)*r); } ctx.closePath(); break; } case \"cloud\": { ctx.moveTo(w*0.2, h*0.5); ctx.bezierCurveTo(w*0.1, h*0.3, w*0.3, h*0.1, w*0.4, h*0.3); ctx.bezierCurveTo(w*0.5, h*0.1, w*0.7, h*0.2, w*0.7, h*0.4); ctx.bezierCurveTo(w*0.9, h*0.3, w, h*0.6, w*0.8, h*0.8); ctx.bezierCurveTo(w*0.9, h, w*0.6, h, w*0.5, h*0.9); ctx.bezierCurveTo(w*0.4, h, w*0.1, h*0.9, w*0.2, h*0.7); ctx.bezierCurveTo(0, h*0.7, 0, h*0.5, w*0.2, h*0.5); ctx.closePath(); break; } case \"speech_bubble\": { const br = Math.min(w, h)*0.2; ctx.moveTo(br, 0); ctx.lineTo(w-br, 0); ctx.quadraticCurveTo(w, 0, w, br); ctx.lineTo(w, h-br*2); ctx.quadraticCurveTo(w, h-br, w-br, h-br); ctx.lineTo(w/2+br, h-br); ctx.lineTo(w/2, h); ctx.lineTo(w/2-br, h-br); ctx.lineTo(br, h-br); ctx.quadraticCurveTo(0, h-br, 0, h-br*2); ctx.lineTo(0, br); ctx.quadraticCurveTo(0, 0, br, 0); ctx.closePath(); break; } } if (data.fillColor) ctx.fill(); if (data.borderType !== 'none') ctx.stroke() }\n  const renderText = (ctx: CanvasRenderingContext2D, obj: CanvasObject) => { const data = obj.data as TextData; ctx.font = `${data.fontSize}px ${data.fontFamily}`; ctx.fillStyle = data.color; ctx.textBaseline = \"top\"; ctx.textAlign = data.align || \"left\"; ctx.setLineDash([]); const lines = data.content.split(\"\\n\"); const lineHeight = data.fontSize * 1.2; let xOffset = 0; if (data.align === \"center\") xOffset = data.width / 2; if (data.align === \"right\") xOffset = data.width; lines.forEach((line, i) => ctx.fillText(line, xOffset, i * lineHeight)) }\n  const renderNote = (ctx: CanvasRenderingContext2D, obj: CanvasObject) => { \n    const data = obj.data as NoteData; \n    ctx.fillStyle = data.color; \n    ctx.fillRect(0, 0, data.width, data.height); \n    ctx.fillStyle = data.textColor || \"#000000\"; \n    ctx.font = `${data.fontSize || 14}px ${data.fontFamily || 'Inter'}, sans-serif`; \n    ctx.textBaseline = \"top\"; \n    ctx.setLineDash([]); \n    ctx.textAlign = data.align || 'left'; \n    const padding = 16; \n    const lines = data.content.split(\"\\n\"); \n    let x = padding; \n    if (data.align === 'center') x = data.width / 2; \n    if (data.align === 'right') x = data.width - padding; \n    \n    // Vertical Align Logic\n    const lineHeight = (data.fontSize || 14) * 1.2;\n    const totalTextHeight = lines.length * lineHeight;\n    let startY = padding;\n    if (data.verticalAlign === 'center') startY = (data.height - totalTextHeight) / 2;\n    if (data.verticalAlign === 'bottom') startY = data.height - totalTextHeight - padding;\n\n    lines.forEach((line, i) => ctx.fillText(line, x, startY + i * lineHeight, data.width - padding * 2)) \n  }\n  const renderImage = (ctx: CanvasRenderingContext2D, obj: CanvasObject) => { const data = obj.data as ImageData; ctx.globalAlpha = data.opacity; ctx.globalCompositeOperation = (data.blendMode && data.blendMode !== 'normal') ? data.blendMode : 'source-over'; ctx.setLineDash([]); if (data.src && !data.src.startsWith('/placeholder')) { let img = imageCache.current[data.src]; if (!img) { img = new Image(); img.src = data.src; img.onload = () => renderCanvas(); imageCache.current[data.src] = img; } if (img.complete && img.naturalWidth > 0) { ctx.drawImage(img, 0, 0, data.width, data.height); return; } } ctx.fillStyle = \"#e0e0e0\"; ctx.fillRect(0, 0, data.width, data.height); ctx.strokeStyle = \"#999999\"; ctx.lineWidth = 2; ctx.strokeRect(0, 0, data.width, data.height); ctx.fillStyle = \"#666666\"; ctx.font = \"48px sans-serif\"; ctx.textAlign = \"center\"; ctx.textBaseline = \"middle\"; ctx.fillText(\"🖼️\", data.width / 2, data.height / 2) }\n\n  const renderSelection = (ctx: CanvasRenderingContext2D, obj: CanvasObject) => {\n    if (!showTransformHandles) return\n    const { width, height } = getObjectSize(obj); const anchor = getAnchorOffset(obj, width, height); const handleSize = 8 / zoom\n    ctx.save(); ctx.translate(obj.transform.x + anchor.x * obj.transform.scaleX, obj.transform.y + anchor.y * obj.transform.scaleY); ctx.rotate((obj.transform.rotation * Math.PI) / 180); ctx.scale(obj.transform.scaleX, obj.transform.scaleY); ctx.translate(-anchor.x, -anchor.y)\n    \n    ctx.strokeStyle = highlightColor; \n    ctx.lineWidth = 2 / zoom; \n    ctx.strokeRect(0, 0, width, height)\n    \n    const hSizeX = handleSize / obj.transform.scaleX; const hSizeY = handleSize / obj.transform.scaleY; ctx.fillStyle = \"#FFFFFF\"; ctx.strokeStyle = highlightColor; ctx.lineWidth = 1 / zoom\n    const drawHandle = (x: number, y: number) => { \n        ctx.fillRect(x - hSizeX/2, y - hSizeY/2, hSizeX, hSizeY); \n        ctx.strokeRect(x - hSizeX/2, y - hSizeY/2, hSizeX, hSizeY) \n    }\n    drawHandle(0, 0); drawHandle(width, 0); drawHandle(width, height); drawHandle(0, height)\n    \n    const rotHandleY = - (30 / obj.transform.scaleY / zoom); ctx.beginPath(); ctx.moveTo(width / 2, 0); ctx.lineTo(width / 2, rotHandleY); ctx.stroke(); ctx.beginPath(); ctx.arc(width / 2, rotHandleY, Math.abs(hSizeX/1.5), 0, Math.PI * 2); ctx.fill(); ctx.stroke()\n    ctx.beginPath(); ctx.moveTo(anchor.x - 5/zoom/obj.transform.scaleX, anchor.y); ctx.lineTo(anchor.x + 5/zoom/obj.transform.scaleX, anchor.y); ctx.moveTo(anchor.x, anchor.y - 5/zoom/obj.transform.scaleY); ctx.lineTo(anchor.x, anchor.y + 5/zoom/obj.transform.scaleY); ctx.strokeStyle = '#0A84FF'; ctx.lineWidth = 2/zoom; ctx.stroke()\n    ctx.restore()\n  }\n\n  // --- Interaction Logic ---\n  const getCanvasPoint = (e: React.MouseEvent) => { const canvas = canvasRef.current; if (!canvas) return { x: 0, y: 0 }; const rect = canvas.getBoundingClientRect(); return { x: (e.clientX - rect.left - panX) / zoom, y: (e.clientY - rect.top - panY) / zoom } }\n  const getClickType = (point: Point, obj: CanvasObject): 'tl'|'tr'|'bl'|'br'|'rot'|'body'|'none' => { \n    const { width, height } = getObjectSize(obj)\n    const anchor = getAnchorOffset(obj, width, height)\n    const handleSize = 8 / zoom / Math.min(Math.abs(obj.transform.scaleX), Math.abs(obj.transform.scaleY))\n    const pivotX = obj.transform.x + anchor.x * obj.transform.scaleX\n    const pivotY = obj.transform.y + anchor.y * obj.transform.scaleY\n    const dx = point.x - pivotX; const dy = point.y - pivotY\n    const rad = -obj.transform.rotation * (Math.PI / 180)\n    const lx = (dx * Math.cos(rad) - dy * Math.sin(rad)) / obj.transform.scaleX\n    const ly = (dx * Math.sin(rad) + dy * Math.cos(rad)) / obj.transform.scaleY\n    const localX = lx + anchor.x; const localY = ly + anchor.y\n    const rotHandleY = - (30 / obj.transform.scaleY / zoom)\n    if (Math.abs(localX - width/2) < handleSize && Math.abs(localY - rotHandleY) < handleSize) return 'rot'\n    if (Math.abs(localX - 0) < handleSize && Math.abs(localY - 0) < handleSize) return 'tl'\n    if (Math.abs(localX - width) < handleSize && Math.abs(localY - 0) < handleSize) return 'tr'\n    if (Math.abs(localX - 0) < handleSize && Math.abs(localY - height) < handleSize) return 'bl'\n    if (Math.abs(localX - width) < handleSize && Math.abs(localY - height) < handleSize) return 'br'\n    if (localX >= 0 && localX <= width && localY >= 0 && localY <= height) return 'body'\n    return 'none' \n  }\n\n  const handleEraser = (point: Point) => {\n    const radius = brushSettings.size / zoom / 2\n    if (brushSettings.eraserMode === 'object') {\n      const hitObject = [...objects].reverse().find(obj => {\n        const layer = layers.find(l => l.id === obj.layerId); if (!layer || !layer.visible || layer.locked) return false\n        return getClickType(point, obj) !== 'none'\n      })\n      if (hitObject) deleteObject(hitObject.id)\n    } else {\n      objects.forEach(obj => {\n        if (obj.type === 'path') {\n          const data = obj.data as PathData; const originalPoints = data.points; const newSegments: Point[][] = []; let currentSegment: Point[] = []; let hasSplit = false\n          for (let i = 0; i < originalPoints.length; i++) {\n            const p = originalPoints[i]; const gx = obj.transform.x + p.x; const gy = obj.transform.y + p.y; const distSq = (gx - point.x)**2 + (gy - point.y)**2\n            if (distSq > radius**2) { currentSegment.push(p) } else { hasSplit = true; if (currentSegment.length > 0) { newSegments.push(currentSegment); currentSegment = [] } }\n          }\n          if (currentSegment.length > 0) newSegments.push(currentSegment)\n          if (hasSplit) { deleteObject(obj.id); newSegments.forEach((seg, idx) => { if (seg.length < 2) return; addObject({ ...obj, id: `path-split-${obj.id}-${Date.now()}-${idx}`, data: { ...data, points: seg } }) }) }\n        }\n      })\n    }\n  }\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    if (e.button === 1 || (e.button === 0 && e.spaceKey)) { setIsPanning(true); return }\n    const point = getCanvasPoint(e); dragStartRef.current = point; currentMousePosRef.current = point\n    if (activeTool === \"select\" && selectedIds.length === 1) { const obj = objects.find(o => o.id === selectedIds[0]); if (obj) { const clickType = getClickType(point, obj); if (clickType !== 'none' && clickType !== 'body') { interactionModeRef.current = clickType === 'rot' ? 'rotating' : 'resizing'; setInteractionMode(clickType === 'rot' ? 'rotating' : 'resizing'); activeHandleRef.current = clickType; initialObjectStateRef.current = JSON.parse(JSON.stringify(obj)); return } } }\n    switch (activeTool) {\n      case \"select\": const clickedObject = [...objects].reverse().find((obj) => { const layer = layers.find(l => l.id === obj.layerId); if (!layer || !layer.visible || layer.locked) return false; return getClickType(point, obj) !== 'none' }); if (clickedObject) { if (e.shiftKey) { if (selectedIds.includes(clickedObject.id)) setSelectedIds(selectedIds.filter(id => id !== clickedObject.id)); else setSelectedIds([...selectedIds, clickedObject.id]) } else { if (!selectedIds.includes(clickedObject.id)) setSelectedIds([clickedObject.id]) } interactionModeRef.current = 'moving'; setInteractionMode('moving'); initialObjectsMapRef.current.clear(); const ids = e.shiftKey && selectedIds.includes(clickedObject.id) ? selectedIds : [clickedObject.id]; ids.forEach(id => { const o = objects.find(obj => obj.id === id); if (o) initialObjectsMapRef.current.set(id, JSON.parse(JSON.stringify(o))) }); if (!initialObjectsMapRef.current.has(clickedObject.id)) initialObjectsMapRef.current.set(clickedObject.id, JSON.parse(JSON.stringify(clickedObject))) } else { if (!e.shiftKey) setSelectedIds([]); interactionModeRef.current = 'selecting'; setInteractionMode('selecting'); dragStartRef.current = point; setCurrentMousePos(point) } break;\n      case \"brush\": interactionModeRef.current = 'drawing'; setInteractionMode('drawing'); setIsDrawing(true); setCurrentPath([point]); break;\n      case \"shape\": interactionModeRef.current = 'drawing'; setInteractionMode('drawing'); setIsDrawing(true); startPointRef.current = point; setStartPoint(point); break;\n      case \"eraser\": interactionModeRef.current = 'drawing'; setInteractionMode('drawing'); setIsDrawing(true); setCurrentMousePos(point); handleEraser(point); break;\n      case \"text\": addObject({ id: `text-${Date.now()}`, type: \"text\", layerId: activeLayerId, transform: { x: point.x, y: point.y, rotation: 0, scaleX: 1, scaleY: 1, anchor: \"center\" }, data: { content: t(\"clickToEdit\"), fontFamily: \"Inter\", fontSize: 24, color: \"#000000\", width: 200, height: 30, align: \"left\" } }); setActiveTool('select'); break;\n      case \"note\": addObject({ id: `note-${Date.now()}`, type: \"note\", layerId: activeLayerId, transform: { x: point.x, y: point.y, rotation: Math.random() * 4 - 2, scaleX: 1, scaleY: 1, anchor: \"center\" }, data: { content: t(\"newNote\"), width: 200, height: 200, color: \"#FFF2CC\", textColor: \"#000000\", fontFamily: \"Inter\", fontSize: 14, align: \"left\", verticalAlign: \"top\" } }); setActiveTool('select'); break;\n      case \"image\": addObject({ id: `image-${Date.now()}`, type: \"image\", layerId: activeLayerId, transform: { x: point.x, y: point.y, rotation: 0, scaleX: 1, scaleY: 1, anchor: \"center\" }, data: { src: \"/placeholder.svg?height=200&width=200\", width: 200, height: 200, opacity: 1, blendMode: 'normal' } }); setActiveTool('select'); break;\n    }\n  }\n\n  const handleMouseMove = (e: React.MouseEvent) => {\n    const point = getCanvasPoint(e); currentMousePosRef.current = point; setCurrentMousePos(point)\n    if (isPanning) { setPan(panX + e.movementX, panY + e.movementY); return }\n    const mode = interactionModeRef.current\n    if (mode === 'drawing' && activeTool === 'eraser') handleEraser(point)\n    if (mode === 'moving' && dragStartRef.current) { const dx = point.x - dragStartRef.current.x; const dy = point.y - dragStartRef.current.y; initialObjectsMapRef.current.forEach((initObj, id) => { if (objects.some(o => o.id === id)) { updateObject(id, { transform: { ...initObj.transform, x: initObj.transform.x + dx, y: initObj.transform.y + dy } }) } }) }\n    if (mode === 'rotating' && initialObjectStateRef.current) { const obj = initialObjectStateRef.current; const { width, height } = getObjectSize(obj); const anchor = getAnchorOffset(obj, width, height); const pivotX = obj.transform.x + anchor.x * obj.transform.scaleX; const pivotY = obj.transform.y + anchor.y * obj.transform.scaleY; const angle = Math.atan2(point.y - pivotY, point.x - pivotX) * (180 / Math.PI) + 90; updateObject(obj.id, { transform: { ...obj.transform, rotation: angle } }) }\n    \n    if (mode === 'resizing' && initialObjectStateRef.current && activeHandleRef.current && dragStartRef.current) { \n        const obj = initialObjectStateRef.current\n        const { width, height } = getObjectSize(obj)\n        \n        const dx = point.x - dragStartRef.current.x\n        const dy = point.y - dragStartRef.current.y\n        \n        const rad = -obj.transform.rotation * (Math.PI / 180)\n        const localDx = dx * Math.cos(rad) - dy * Math.sin(rad)\n        const localDy = dx * Math.sin(rad) + dy * Math.cos(rad)\n\n        let scaleX = obj.transform.scaleX\n        let scaleY = obj.transform.scaleY\n        \n        const safeWidth = width === 0 ? 100 : width\n        const safeHeight = height === 0 ? 100 : height\n\n        if (activeHandleRef.current.includes('r')) scaleX = obj.transform.scaleX + (localDx / safeWidth) * obj.transform.scaleX\n        if (activeHandleRef.current.includes('l')) scaleX = obj.transform.scaleX - (localDx / safeWidth) * obj.transform.scaleX\n        if (activeHandleRef.current.includes('b')) scaleY = obj.transform.scaleY + (localDy / safeHeight) * obj.transform.scaleY\n        if (activeHandleRef.current.includes('t')) scaleY = obj.transform.scaleY - (localDy / safeHeight) * obj.transform.scaleY\n\n        const isCorner = activeHandleRef.current.length === 2\n        if (!e.shiftKey && isCorner) {\n           const ratio = Math.max(Math.abs(scaleX/obj.transform.scaleX), Math.abs(scaleY/obj.transform.scaleY))\n           const signX = Math.sign(scaleX) || 1\n           const signY = Math.sign(scaleY) || 1\n           scaleX = obj.transform.scaleX * ratio * signX\n           scaleY = obj.transform.scaleY * ratio * signY\n        }\n        updateObject(obj.id, { transform: { ...obj.transform, scaleX, scaleY } }) \n    }\n\n    if (mode === 'drawing' && activeTool === 'brush') {\n      let newPoint = point\n      if (e.shiftKey && currentPath.length > 0) {\n        const start = currentPath[0]\n        const dx = Math.abs(point.x - start.x)\n        const dy = Math.abs(point.y - start.y)\n        \n        if (dx > dy) {\n          newPoint = { x: point.x, y: start.y }\n        } else {\n          newPoint = { x: start.x, y: point.y }\n        }\n      }\n      setCurrentPath(p => [...p, newPoint])\n    }\n    \n    if (mode === 'selecting' || (mode === 'drawing' && activeTool === 'shape')) setInteractionMode(prev => prev)\n  }\n\n  const handleMouseUp = (e: React.MouseEvent) => {\n    if (isPanning) { setIsPanning(false); return }\n    const point = getCanvasPoint(e); const mode = interactionModeRef.current\n    if (mode === 'selecting' && dragStartRef.current) { const x1 = Math.min(dragStartRef.current.x, point.x); const y1 = Math.min(dragStartRef.current.y, point.y); const x2 = Math.max(dragStartRef.current.x, point.x); const y2 = Math.max(dragStartRef.current.y, point.y); const ids: string[] = []; objects.forEach(obj => { const layer = layers.find(l => l.id === obj.layerId); if (!layer || !layer.visible || layer.locked) return; const { width, height } = getObjectSize(obj); const ox = obj.transform.x; const oy = obj.transform.y; if (ox < x2 && ox + width > x1 && oy < y2 && oy + height > y1) ids.push(obj.id) }); setSelectedIds(ids) }\n    if (mode === 'drawing' && activeTool === 'brush' && currentPath.length > 1) { const xs = currentPath.map(p => p.x); const ys = currentPath.map(p => p.y); const minX = Math.min(...xs); const minY = Math.min(...ys); const norm = currentPath.map(p => ({ x: p.x - minX, y: p.y - minY })); addObject({ id: `path-${Date.now()}`, type: \"path\", layerId: activeLayerId, transform: { x: minX, y: minY, rotation: 0, scaleX: 1, scaleY: 1, anchor: \"center\" }, data: { points: norm, strokeColor: brushSettings.color, strokeWidth: brushSettings.size, opacity: brushSettings.opacity } }); setCurrentPath([]) }\n    if (mode === 'drawing' && activeTool === 'shape' && startPointRef.current) { const rawW = point.x - startPointRef.current.x; const rawH = point.y - startPointRef.current.y; const w = Math.abs(rawW); const h = Math.abs(rawH); const x = rawW < 0 ? point.x : startPointRef.current.x; const y = rawH < 0 ? point.y : startPointRef.current.y; if (w > 5 && h > 5) { addObject({ id: `shape-${Date.now()}`, type: \"shape\", layerId: activeLayerId, transform: { x, y, rotation: 0, scaleX: 1, scaleY: 1, anchor: \"center\" }, data: { shapeType: shapeSettings.shapeType, width: w, height: h, fillColor: shapeSettings.fillColor, strokeColor: shapeSettings.strokeColor, strokeWidth: shapeSettings.strokeWidth, borderType: shapeSettings.borderType, opacity: shapeSettings.opacity } }); setActiveTool('select') } startPointRef.current = null; setStartPoint(null) }\n    interactionModeRef.current = 'none'; activeHandleRef.current = null; dragStartRef.current = null; initialObjectStateRef.current = null; initialObjectsMapRef.current.clear(); setInteractionMode('none'); setIsDrawing(false); activeHandleRef.current = null; dragStartRef.current = null\n  }\n\n  const handleDoubleClick = (e: React.MouseEvent) => { \n    const point = getCanvasPoint(e); \n    const clickedObject = [...objects].reverse().find((obj) => { \n      const layer = layers.find(l => l.id === obj.layerId); \n      if (!layer || !layer.visible || layer.locked) return false; \n      return getClickType(point, obj) !== 'none' \n    }); \n    \n    if (clickedObject && (clickedObject.type === \"text\" || clickedObject.type === \"note\")) { \n      setEditingTextId(clickedObject.id); \n      const data = clickedObject.data as (TextData | NoteData); \n      \n      const isPlaceholder = \n        (clickedObject.type === 'text' && (data.content === t(\"clickToEdit\") || data.content === \"Click to edit\")) ||\n        (clickedObject.type === 'note' && (data.content === t(\"newNote\") || data.content === \"New note\"));\n        \n      setEditText(isPlaceholder ? \"\" : data.content) \n    } \n  }\n  \n  const handleTextBlur = () => { if (editingTextId) { const obj = objects.find(o => o.id === editingTextId); if (obj) { const newData = { ...obj.data, content: editText }; updateObject(obj.id, { data: newData as any }) } setEditingTextId(null) } }\n  const handleWheel = (e: React.WheelEvent) => { \n    if (e.ctrlKey || e.metaKey) { \n        e.preventDefault(); \n        const delta = e.deltaY > 0 ? 0.9 : 1.1; \n        setZoom(zoom * delta) \n    } else { \n        setPan(panX - e.deltaX, panY - e.deltaY) \n    } \n  }\n  \n  useEffect(() => { const handleMouseEvent = (e: MouseEvent) => { (window as any).lastMouseEvent = e }; window.addEventListener(\"mousemove\", handleMouseEvent); return () => window.removeEventListener(\"mousemove\", handleMouseEvent) }, [])\n  \n  useEffect(() => { \n    const handleKeyDown = (e: KeyboardEvent) => { \n      const tagName = (e.target as HTMLElement).tagName; if (tagName === 'INPUT' || tagName === 'TEXTAREA') return\n      \n      const key = e.key.toLowerCase()\n      if (!e.metaKey && !e.ctrlKey) { \n        if (key === keybindings.select) setActiveTool('select');\n        else if (key === keybindings.brush) setActiveTool('brush');\n        else if (key === keybindings.eraser) setActiveTool('eraser');\n        else if (key === keybindings.image) setActiveTool('image');\n        else if (key === keybindings.shape) setActiveTool('shape');\n        else if (key === keybindings.note) setActiveTool('note');\n        else if (key === keybindings.text) setActiveTool('text');\n      } \n      \n      if ((e.ctrlKey || e.metaKey) && key === \"z\" && !e.shiftKey) { e.preventDefault(); useHaloboardStore.getState().undo() } \n      if ((e.ctrlKey || e.metaKey) && (key === \"y\" || (key === \"z\" && e.shiftKey))) { e.preventDefault(); useHaloboardStore.getState().redo() } \n      \n      if (e.key === \"Delete\" || e.key === \"Backspace\") { const { selectedIds, deleteObject } = useHaloboardStore.getState(); selectedIds.forEach((id) => deleteObject(id)) } \n      if ((e.ctrlKey || e.metaKey) && e.key === 'c') { useHaloboardStore.getState().copy() } \n      if ((e.ctrlKey || e.metaKey) && e.key === 'v') { useHaloboardStore.getState().paste() } \n      if ((e.ctrlKey || e.metaKey) && e.key === 'd') { e.preventDefault(); useHaloboardStore.getState().duplicate() } \n    }; window.addEventListener(\"keydown\", handleKeyDown); return () => window.removeEventListener(\"keydown\", handleKeyDown) \n  }, [keybindings])\n\n  const renderTextEditor = () => {\n    if (!editingTextId) return null\n    const obj = objects.find(o => o.id === editingTextId); if (!obj) return null\n    const data = obj.data as (TextData | NoteData); const { width, height } = getObjectSize(obj); const anchor = getAnchorOffset(obj, width, height)\n    const screenX = (obj.transform.x - anchor.x * obj.transform.scaleX) * zoom + panX + (containerRef.current?.getBoundingClientRect().left || 0)\n    const screenY = (obj.transform.y - anchor.y * obj.transform.scaleY) * zoom + panY + (containerRef.current?.getBoundingClientRect().top || 0)\n    const textColor = obj.type === 'note' ? ((data as NoteData).textColor || '#000') : (data as TextData).color\n    const style: React.CSSProperties = { position: 'absolute', left: screenX, top: screenY, width: width * zoom * obj.transform.scaleX, height: height * zoom * obj.transform.scaleY, fontSize: (data.fontSize || 14) * zoom * obj.transform.scaleY, fontFamily: (data as any).fontFamily || 'Inter', color: textColor, backgroundColor: obj.type === 'note' ? (data as NoteData).color : 'transparent', border: 'none', padding: obj.type === 'note' ? 16 * zoom : 0, zIndex: 100, resize: 'none', outline: 'none', textAlign: (data as any).align || 'left', overflow: 'hidden', lineHeight: '1.2' }\n    \n    return (\n      <textarea \n        ref={textAreaRef} \n        value={editText} \n        onChange={(e) => setEditText(e.target.value)} \n        onBlur={handleTextBlur} \n        style={style} \n        autoFocus \n        onKeyDown={(e) => { \n          if (e.key === \"Escape\") {\n            handleTextBlur();\n            return;\n          }\n          if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleTextBlur();\n          }\n        }} \n      />\n    )\n  }\n\n  return <div ref={containerRef} className=\"absolute inset-0 w-full h-full overflow-hidden\"><canvas ref={canvasRef} className=\"block w-full h-full cursor-crosshair\" onMouseDown={handleMouseDown} onMouseMove={handleMouseMove} onMouseUp={handleMouseUp} onMouseLeave={handleMouseUp} onDoubleClick={handleDoubleClick} onWheel={handleWheel} />{renderTextEditor()}</div>\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2256, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 2271, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/toolbar.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport type { ToolType } from \"@/lib/types\"\nimport {\n  MousePointer2,\n  Brush,\n  Eraser,\n  Shapes,\n  Type,\n  StickyNote,\n  ImageIcon,\n} from \"lucide-react\"\nimport { useTranslation } from \"@/lib/i18n\"\nimport { cn } from \"@/lib/utils\"\n\nexport function Toolbar() {\n  const { activeTool, setActiveTool, highlightColor } = useHaloboardStore()\n  const { t } = useTranslation()\n  const [isCollapsed, setIsCollapsed] = useState(false)\n\n  const tools: { type: ToolType; icon: React.ElementType; label: string }[] = [\n    { type: \"select\", icon: MousePointer2, label: t(\"select\", \"tools\") },\n    { type: \"brush\", icon: Brush, label: t(\"brush\", \"tools\") },\n    { type: \"eraser\", icon: Eraser, label: t(\"eraser\", \"tools\") },\n    { type: \"shape\", icon: Shapes, label: t(\"shape\", \"tools\") },\n    { type: \"text\", icon: Type, label: t(\"text\", \"tools\") },\n    { type: \"note\", icon: StickyNote, label: t(\"note\", \"tools\") },\n    { type: \"image\", icon: ImageIcon, label: t(\"image\", \"tools\") },\n  ]\n\n  return (\n    <aside \n      className={cn(\n        \"fixed left-4 z-30 flex flex-col gap-1 rounded-xl transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] overflow-hidden\",\n        isCollapsed \n          ? \"top-20 translate-y-0 bg-transparent border-transparent shadow-none w-[52px]\" \n          : \"top-1/2 -translate-y-1/2 border border-white/20 bg-white/60 p-1.5 shadow-lg backdrop-blur-xl dark:border-white/10 dark:bg-neutral-900/60 w-[52px]\" \n      )}\n    >\n      {/* Logo/Brand Toggle Button */}\n      <button \n        onClick={() => setIsCollapsed(!isCollapsed)}\n        className={cn(\n          \"flex size-10 items-center justify-center rounded-lg transition-all duration-500 hover:scale-105 active:scale-95 z-40 mx-auto shrink-0\",\n          isCollapsed ? \"rotate-90\" : \"rotate-0\"\n        )}\n        style={{ background: `linear-gradient(135deg, ${highlightColor}, ${highlightColor}dd)` }}\n        title={isCollapsed ? \"Show Toolbar\" : \"Hide Toolbar\"}\n      >\n        <img \n          src=\"https://www.svgrepo.com/show/529121/palette-round.svg\" \n          alt=\"TeamPad\" \n          className=\"size-6 brightness-0 invert\" \n        />\n      </button>\n\n      {/* Tools Container */}\n      <div className={cn(\n        \"flex flex-col gap-1 transition-all duration-500 origin-top w-full items-center\",\n        isCollapsed ? \"opacity-0 max-h-0 mt-0\" : \"opacity-100 max-h-[500px] mt-2\"\n      )}>\n        {tools.map(({ type, icon: Icon, label }) => {\n          const isActive = activeTool === type\n          \n          return (\n            <button\n              key={type}\n              onClick={() => setActiveTool(type)}\n              className={`group relative flex size-9 items-center justify-center rounded-lg transition-all duration-200 shrink-0 ${\n                !isActive ? \"text-neutral-700 hover:bg-black/5 dark:text-neutral-300 dark:hover:bg-white/10\" : \"text-white\"\n              }`}\n              style={isActive ? { \n                backgroundColor: highlightColor,\n                boxShadow: `0 4px 12px -2px ${highlightColor}66`\n              } : undefined}\n              title={label}\n            >\n              <Icon className=\"size-5\" />\n              {/* Tooltip to the right */}\n              {!isCollapsed && (\n                <span className=\"pointer-events-none absolute left-full ml-3 whitespace-nowrap rounded-md bg-neutral-800 px-2 py-1 text-xs font-medium text-white opacity-0 shadow-md transition-opacity duration-200 group-hover:opacity-100 z-50\">\n                  {label}\n                </span>\n              )}\n            </button>\n          )\n        })}\n      </div>\n    </aside>\n  )\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAhBA;;;;;;;AAkBO,SAAS;IACd,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,cAAc,EAAE,GAAG,IAAA,iIAAiB;IACvE,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,6HAAc;IAC5B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,QAAsE;QAC1E;YAAE,MAAM;YAAU,MAAM,6OAAa;YAAE,OAAO,EAAE,UAAU;QAAS;QACnE;YAAE,MAAM;YAAS,MAAM,6MAAK;YAAE,OAAO,EAAE,SAAS;QAAS;QACzD;YAAE,MAAM;YAAU,MAAM,gNAAM;YAAE,OAAO,EAAE,UAAU;QAAS;QAC5D;YAAE,MAAM;YAAS,MAAM,gNAAM;YAAE,OAAO,EAAE,SAAS;QAAS;QAC1D;YAAE,MAAM;YAAQ,MAAM,0MAAI;YAAE,OAAO,EAAE,QAAQ;QAAS;QACtD;YAAE,MAAM;YAAQ,MAAM,gOAAU;YAAE,OAAO,EAAE,QAAQ;QAAS;QAC5D;YAAE,MAAM;YAAS,MAAM,qNAAS;YAAE,OAAO,EAAE,SAAS;QAAS;KAC9D;IAED,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,iIACA,cACI,gFACA;;0BAIN,8OAAC;gBACC,SAAS,IAAM,eAAe,CAAC;gBAC/B,WAAW,IAAA,kHAAE,EACX,yIACA,cAAc,cAAc;gBAE9B,OAAO;oBAAE,YAAY,CAAC,wBAAwB,EAAE,eAAe,EAAE,EAAE,eAAe,GAAG,CAAC;gBAAC;gBACvF,OAAO,cAAc,iBAAiB;0BAEtC,cAAA,8OAAC;oBACC,KAAI;oBACJ,KAAI;oBACJ,WAAU;;;;;;;;;;;0BAKd,8OAAC;gBAAI,WAAW,IAAA,kHAAE,EAChB,kFACA,cAAc,2BAA2B;0BAExC,MAAM,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE;oBACrC,MAAM,WAAW,eAAe;oBAEhC,qBACE,8OAAC;wBAEC,SAAS,IAAM,cAAc;wBAC7B,WAAW,CAAC,uGAAuG,EACjH,CAAC,WAAW,mFAAmF,cAC/F;wBACF,OAAO,WAAW;4BAChB,iBAAiB;4BACjB,WAAW,CAAC,gBAAgB,EAAE,eAAe,EAAE,CAAC;wBAClD,IAAI;wBACJ,OAAO;;0CAEP,8OAAC;gCAAK,WAAU;;;;;;4BAEf,CAAC,6BACA,8OAAC;gCAAK,WAAU;0CACb;;;;;;;uBAfA;;;;;gBAoBX;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 2410, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2469, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2494, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/hooks/use-toast.ts"],"sourcesContent":["'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2651, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/invite-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { Share2, X, Link, Copy } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport { useTranslation } from \"@/lib/i18n\"\nimport { useToast } from \"@/hooks/use-toast\"\n\ninterface InviteModalProps {\n  isOpen: boolean\n  onClose: () => void\n}\n\nexport function InviteModal({ isOpen, onClose }: InviteModalProps) {\n  const { highlightColor } = useHaloboardStore()\n  const { t } = useTranslation()\n  const { toast } = useToast()\n  \n  if (!isOpen) return null\n\n  const handleCopyLink = () => {\n    // Dummy copy action\n    navigator.clipboard.writeText(\"https://teampad.app/project/shared-id\")\n    toast({ description: \"Link copied to clipboard!\", duration: 2000 })\n  }\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n      <div className=\"relative w-full max-w-md rounded-xl border border-white/20 bg-white/95 p-6 shadow-2xl backdrop-blur-xl dark:border-white/10 dark:bg-neutral-900/95\">\n        {/* Close Button */}\n        <button\n          onClick={onClose}\n          className=\"absolute right-4 top-4 rounded-lg p-1 hover:bg-black/5 dark:hover:bg-white/5\"\n        >\n          <X className=\"size-5 text-neutral-600 dark:text-neutral-400\" />\n        </button>\n\n        <div className=\"flex flex-col gap-4\">\n          <div className=\"flex items-center gap-3\">\n            <div \n              className=\"flex size-10 items-center justify-center rounded-full text-white\"\n              style={{ backgroundColor: highlightColor }}\n            >\n              <Share2 className=\"size-5\" />\n            </div>\n            <h2 className=\"text-xl font-bold text-neutral-800 dark:text-neutral-200\">\n              {t(\"share\")}\n            </h2>\n          </div>\n          \n          <div className=\"space-y-3\">\n            <p className=\"text-sm text-neutral-600 dark:text-neutral-400\">\n              Collaborate with your team by sharing this link.\n            </p>\n            \n            <div className=\"flex items-center gap-2\">\n                <div className=\"relative flex-1\">\n                    <Link className=\"absolute left-2 top-2.5 size-4 text-neutral-500\" />\n                    <Input \n                        readOnly \n                        value=\"https://teampad.app/project/shared-id\" \n                        className=\"pl-8 bg-neutral-100 dark:bg-neutral-800 border-transparent\"\n                    />\n                </div>\n                <Button \n                    onClick={handleCopyLink}\n                    size=\"icon\"\n                    className=\"shrink-0\"\n                    style={{ backgroundColor: highlightColor }}\n                >\n                    <Copy className=\"size-4\" />\n                </Button>\n            </div>\n          </div>\n\n          <Button \n            onClick={onClose}\n            className=\"mt-2 w-full hover:opacity-90 bg-neutral-200 text-neutral-800 hover:bg-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:hover:bg-neutral-700\"\n          >\n            {t(\"done\")}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAcO,SAAS,YAAY,EAAE,MAAM,EAAE,OAAO,EAAoB;IAC/D,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,iIAAiB;IAC5C,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,6HAAc;IAC5B,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,iIAAQ;IAE1B,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,iBAAiB;QACrB,oBAAoB;QACpB,UAAU,SAAS,CAAC,SAAS,CAAC;QAC9B,MAAM;YAAE,aAAa;YAA6B,UAAU;QAAK;IACnE;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBACC,SAAS;oBACT,WAAU;8BAEV,cAAA,8OAAC,iMAAC;wBAAC,WAAU;;;;;;;;;;;8BAGf,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,iBAAiB;oCAAe;8CAEzC,cAAA,8OAAC,oNAAM;wCAAC,WAAU;;;;;;;;;;;8CAEpB,8OAAC;oCAAG,WAAU;8CACX,EAAE;;;;;;;;;;;;sCAIP,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAiD;;;;;;8CAI9D,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC,0MAAI;oDAAC,WAAU;;;;;;8DAChB,8OAAC,mIAAK;oDACF,QAAQ;oDACR,OAAM;oDACN,WAAU;;;;;;;;;;;;sDAGlB,8OAAC,qIAAM;4CACH,SAAS;4CACT,MAAK;4CACL,WAAU;4CACV,OAAO;gDAAE,iBAAiB;4CAAe;sDAEzC,cAAA,8OAAC,0MAAI;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;sCAK1B,8OAAC,qIAAM;4BACL,SAAS;4BACT,WAAU;sCAET,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAMf"}},
    {"offset": {"line": 2844, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/lib/storage.tsx"],"sourcesContent":["// Storage utilities - Autosave Disabled\nimport { useState } from \"react\"\nimport { useHaloboardStore } from \"./store\"\nimport type { CanvasObject } from \"./types\"\n\nexport interface BoardData {\n  objects: CanvasObject[]\n  lastModified: number\n}\n\nexport class StorageManager {\n  constructor() {\n    // Auto-load and Auto-save logic removed to prevent freezing\n  }\n\n  // Added dummy method to prevent crash in Header cleanup\n  public stopAutoSave() {} \n\n  // Manual export functions\n  public exportAsPNG(canvas: HTMLCanvasElement, filename = \"haloboard-export.png\") {\n    try {\n      const dataUrl = canvas.toDataURL(\"image/png\")\n      const link = document.createElement(\"a\")\n      link.download = filename\n      link.href = dataUrl\n      link.click()\n    } catch (error) {\n      console.error(\"Failed to export as PNG\", error)\n    }\n  }\n\n  public exportAsSVG(objects: CanvasObject[], filename = \"haloboard-export.svg\") {\n    console.log(\"SVG Export feature placeholder\")\n  }\n\n  public exportAsJSON(filename = \"haloboard-export.json\") {\n    try {\n      const { objects, layers } = useHaloboardStore.getState()\n      const data = { objects, layers, lastModified: Date.now() }\n      \n      const json = JSON.stringify(data, null, 2)\n      const blob = new Blob([json], { type: \"application/json\" })\n      const url = URL.createObjectURL(blob)\n      const link = document.createElement(\"a\")\n      link.download = filename\n      link.href = url\n      link.click()\n      URL.revokeObjectURL(url)\n    } catch (error) {\n      console.error(\"Failed to export as JSON\", error)\n    }\n  }\n\n  // NEW: Export as custom .tpad format (JSON under the hood)\n  public exportAsTPAD(filename = \"project.tpad\") {\n    try {\n      const { objects, layers, activeLayerId, history } = useHaloboardStore.getState()\n      const data = { \n        version: \"1.0\",\n        timestamp: Date.now(),\n        objects, \n        layers, \n        activeLayerId,\n        history: [] // Optional: Save history or keep file size small\n      }\n      \n      const json = JSON.stringify(data, null, 2)\n      const blob = new Blob([json], { type: \"application/haloboard\" })\n      const url = URL.createObjectURL(blob)\n      const link = document.createElement(\"a\")\n      link.download = filename\n      link.href = url\n      link.click()\n      URL.revokeObjectURL(url)\n    } catch (error) {\n      console.error(\"Failed to export as TPAD\", error)\n    }\n  }\n\n  // NEW: Export as PSD (Fallback to Image for this environment)\n  public exportAsPSD(canvas: HTMLCanvasElement, filename = \"haloboard-export.psd\") {\n    try {\n      // Note: Real layered PSD export requires heavy libraries like ag-psd.\n      // For this environment, we export the flat image with .psd extension \n      // so it can be opened by standard viewers, though it won't have layers.\n      const dataUrl = canvas.toDataURL(\"image/png\")\n      const link = document.createElement(\"a\")\n      link.download = filename\n      link.href = dataUrl\n      link.click()\n      console.log(\"Exported as basic PSD (Flat Image)\")\n    } catch (error) {\n      console.error(\"Failed to export as PSD\", error)\n    }\n  }\n}\n\n// Hook initializes once for manual export access only\nexport function useStorage() {\n  const [manager] = useState(() => new StorageManager())\n  return manager\n}\n"],"names":[],"mappings":"AAAA,wCAAwC;;;;;;;AACxC;AACA;;;AAQO,MAAM;IACX,aAAc;IACZ,4DAA4D;IAC9D;IAEA,wDAAwD;IACjD,eAAe,CAAC;IAEvB,0BAA0B;IACnB,YAAY,MAAyB,EAAE,WAAW,sBAAsB,EAAE;QAC/E,IAAI;YACF,MAAM,UAAU,OAAO,SAAS,CAAC;YACjC,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,QAAQ,GAAG;YAChB,KAAK,IAAI,GAAG;YACZ,KAAK,KAAK;QACZ,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEO,YAAY,OAAuB,EAAE,WAAW,sBAAsB,EAAE;QAC7E,QAAQ,GAAG,CAAC;IACd;IAEO,aAAa,WAAW,uBAAuB,EAAE;QACtD,IAAI;YACF,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,iIAAiB,CAAC,QAAQ;YACtD,MAAM,OAAO;gBAAE;gBAAS;gBAAQ,cAAc,KAAK,GAAG;YAAG;YAEzD,MAAM,OAAO,KAAK,SAAS,CAAC,MAAM,MAAM;YACxC,MAAM,OAAO,IAAI,KAAK;gBAAC;aAAK,EAAE;gBAAE,MAAM;YAAmB;YACzD,MAAM,MAAM,IAAI,eAAe,CAAC;YAChC,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,QAAQ,GAAG;YAChB,KAAK,IAAI,GAAG;YACZ,KAAK,KAAK;YACV,IAAI,eAAe,CAAC;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;QAC5C;IACF;IAEA,2DAA2D;IACpD,aAAa,WAAW,cAAc,EAAE;QAC7C,IAAI;YACF,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,GAAG,iIAAiB,CAAC,QAAQ;YAC9E,MAAM,OAAO;gBACX,SAAS;gBACT,WAAW,KAAK,GAAG;gBACnB;gBACA;gBACA;gBACA,SAAS,EAAE,CAAC,iDAAiD;YAC/D;YAEA,MAAM,OAAO,KAAK,SAAS,CAAC,MAAM,MAAM;YACxC,MAAM,OAAO,IAAI,KAAK;gBAAC;aAAK,EAAE;gBAAE,MAAM;YAAwB;YAC9D,MAAM,MAAM,IAAI,eAAe,CAAC;YAChC,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,QAAQ,GAAG;YAChB,KAAK,IAAI,GAAG;YACZ,KAAK,KAAK;YACV,IAAI,eAAe,CAAC;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;QAC5C;IACF;IAEA,8DAA8D;IACvD,YAAY,MAAyB,EAAE,WAAW,sBAAsB,EAAE;QAC/E,IAAI;YACF,sEAAsE;YACtE,sEAAsE;YACtE,wEAAwE;YACxE,MAAM,UAAU,OAAO,SAAS,CAAC;YACjC,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,QAAQ,GAAG;YAChB,KAAK,IAAI,GAAG;YACZ,KAAK,KAAK;YACV,QAAQ,GAAG,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;AACF;AAGO,SAAS;IACd,MAAM,CAAC,QAAQ,GAAG,IAAA,iNAAQ,EAAC,IAAM,IAAI;IACrC,OAAO;AACT"}},
    {"offset": {"line": 2953, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/export-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Download, FileImage, FileType, FileJson, FileBox, Image as ImageIcon } from \"lucide-react\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport { useStorage } from \"@/lib/storage\"\nimport { useTranslation } from \"@/lib/i18n\"\n\nexport function ExportMenu() {\n  const [isOpen, setIsOpen] = useState(false)\n  const storage = useStorage()\n  const { t } = useTranslation()\n\n  const handleExportPNG = () => {\n    const canvas = document.querySelector(\"canvas\")\n    if (canvas && storage) {\n      storage.exportAsPNG(canvas)\n      setIsOpen(false)\n    }\n  }\n\n  const handleExportSVG = () => {\n    if (storage) {\n      storage.exportAsSVG([]) // Placeholder call\n      setIsOpen(false)\n    }\n  }\n\n  const handleExportJSON = () => {\n    if (storage) {\n      storage.exportAsJSON()\n      setIsOpen(false)\n    }\n  }\n\n  const handleExportTPAD = () => {\n    if (storage) {\n      storage.exportAsTPAD()\n      setIsOpen(false)\n    }\n  }\n\n  const handleExportPSD = () => {\n    const canvas = document.querySelector(\"canvas\")\n    if (canvas && storage) {\n      storage.exportAsPSD(canvas)\n      setIsOpen(false)\n    }\n  }\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"flex items-center gap-2 rounded-lg bg-white/60 px-3 py-2 text-sm font-medium text-neutral-700 shadow-lg backdrop-blur-xl transition-colors hover:bg-white/80 dark:bg-neutral-900/60 dark:text-neutral-300 dark:hover:bg-neutral-900/80\"\n      >\n        <Download className=\"size-4\" />\n        {t(\"export\")}\n      </button>\n\n      {isOpen && (\n        <>\n          <div className=\"fixed inset-0 z-40\" onClick={() => setIsOpen(false)} />\n          <div className=\"absolute right-0 top-full z-50 mt-2 w-48 rounded-lg border border-white/20 bg-white/90 shadow-xl backdrop-blur-xl dark:border-white/10 dark:bg-neutral-900/90\">\n            <div className=\"p-1 space-y-0.5\">\n              <button onClick={handleExportTPAD} className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm text-neutral-700 transition-colors hover:bg-black/5 dark:text-neutral-300 dark:hover:bg-white/5\">\n                <FileBox className=\"size-4\" />\n                {t(\"exportTPAD\")}\n              </button>\n              <div className=\"h-px bg-neutral-200 dark:bg-neutral-700 my-1\" />\n              <button onClick={handleExportPSD} className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm text-neutral-700 transition-colors hover:bg-black/5 dark:text-neutral-300 dark:hover:bg-white/5\">\n                <ImageIcon className=\"size-4\" />\n                {t(\"exportPSD\")}\n              </button>\n              <button onClick={handleExportPNG} className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm text-neutral-700 transition-colors hover:bg-black/5 dark:text-neutral-300 dark:hover:bg-white/5\">\n                <FileImage className=\"size-4\" />\n                {t(\"exportPNG\")}\n              </button>\n              <button onClick={handleExportSVG} className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm text-neutral-700 transition-colors hover:bg-black/5 dark:text-neutral-300 dark:hover:bg-white/5\">\n                <FileType className=\"size-4\" />\n                {t(\"exportSVG\")}\n              </button>\n              <button onClick={handleExportJSON} className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm text-neutral-700 transition-colors hover:bg-black/5 dark:text-neutral-300 dark:hover:bg-white/5\">\n                <FileJson className=\"size-4\" />\n                {t(\"exportJSON\")}\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AANA;;;;;;AAQO,SAAS;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,UAAU,IAAA,6HAAU;IAC1B,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,6HAAc;IAE5B,MAAM,kBAAkB;QACtB,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,IAAI,UAAU,SAAS;YACrB,QAAQ,WAAW,CAAC;YACpB,UAAU;QACZ;IACF;IAEA,MAAM,kBAAkB;QACtB,IAAI,SAAS;YACX,QAAQ,WAAW,CAAC,EAAE,GAAE,mBAAmB;YAC3C,UAAU;QACZ;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI,SAAS;YACX,QAAQ,YAAY;YACpB,UAAU;QACZ;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI,SAAS;YACX,QAAQ,YAAY;YACpB,UAAU;QACZ;IACF;IAEA,MAAM,kBAAkB;QACtB,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,IAAI,UAAU,SAAS;YACrB,QAAQ,WAAW,CAAC;YACpB,UAAU;QACZ;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;;kCAEV,8OAAC,sNAAQ;wBAAC,WAAU;;;;;;oBACnB,EAAE;;;;;;;YAGJ,wBACC;;kCACE,8OAAC;wBAAI,WAAU;wBAAqB,SAAS,IAAM,UAAU;;;;;;kCAC7D,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAO,SAAS;oCAAkB,WAAU;;sDAC3C,8OAAC,uNAAO;4CAAC,WAAU;;;;;;wCAClB,EAAE;;;;;;;8CAEL,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAO,SAAS;oCAAiB,WAAU;;sDAC1C,8OAAC,6MAAS;4CAAC,WAAU;;;;;;wCACpB,EAAE;;;;;;;8CAEL,8OAAC;oCAAO,SAAS;oCAAiB,WAAU;;sDAC1C,8OAAC,6NAAS;4CAAC,WAAU;;;;;;wCACpB,EAAE;;;;;;;8CAEL,8OAAC;oCAAO,SAAS;oCAAiB,WAAU;;sDAC1C,8OAAC,0NAAQ;4CAAC,WAAU;;;;;;wCACnB,EAAE;;;;;;;8CAEL,8OAAC;oCAAO,SAAS;oCAAkB,WAAU;;sDAC3C,8OAAC,0NAAQ;4CAAC,WAAU;;;;;;wCACnB,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;AAQnB"}},
    {"offset": {"line": 3166, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/auto-save-indicator.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Cloud, CloudOff, Check } from \"lucide-react\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport { useTranslation } from \"@/lib/i18n\"\n\nexport function AutoSaveIndicator() {\n  const [status, setStatus] = useState<\"saved\" | \"saving\" | \"error\">(\"saved\")\n  const [lastSaved, setLastSaved] = useState<Date>(new Date())\n  const objects = useHaloboardStore((state) => state.objects)\n  const { t } = useTranslation()\n\n  // Simulate auto-save visual feedback on changes\n  useEffect(() => {\n    if (objects.length === 0) return\n\n    setStatus(\"saving\")\n\n    // In a real app, this would be tied to the actual save promise\n    // Here we just debounce visual feedback since store saves synchronously\n    const timer = setTimeout(() => {\n      setStatus(\"saved\")\n      setLastSaved(new Date())\n    }, 800)\n\n    return () => clearTimeout(timer)\n  }, [objects])\n\n  return (\n    <div className=\"flex items-center gap-2 rounded-lg bg-white/60 px-3 py-1.5 text-xs font-medium shadow-lg backdrop-blur-xl dark:bg-neutral-900/60\">\n      {status === \"saving\" && (\n        <>\n          <Cloud className=\"size-3 animate-pulse text-[#0A84FF]\" />\n          <span className=\"text-neutral-600 dark:text-neutral-400\">Saving...</span>\n        </>\n      )}\n\n      {status === \"saved\" && (\n        <>\n          <Check className=\"size-3 text-green-500\" />\n          <span className=\"text-neutral-600 dark:text-neutral-400\">Saved</span>\n        </>\n      )}\n\n      {status === \"error\" && (\n        <>\n          <CloudOff className=\"size-3 text-red-500\" />\n          <span className=\"text-red-600 dark:text-red-400\">Failed to save</span>\n        </>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AALA;;;;;;AAOO,SAAS;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAA+B;IACnE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAO,IAAI;IACrD,MAAM,UAAU,IAAA,iIAAiB,EAAC,CAAC,QAAU,MAAM,OAAO;IAC1D,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,6HAAc;IAE5B,gDAAgD;IAChD,IAAA,kNAAS,EAAC;QACR,IAAI,QAAQ,MAAM,KAAK,GAAG;QAE1B,UAAU;QAEV,+DAA+D;QAC/D,wEAAwE;QACxE,MAAM,QAAQ,WAAW;YACvB,UAAU;YACV,aAAa,IAAI;QACnB,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAQ;IAEZ,qBACE,8OAAC;QAAI,WAAU;;YACZ,WAAW,0BACV;;kCACE,8OAAC,6MAAK;wBAAC,WAAU;;;;;;kCACjB,8OAAC;wBAAK,WAAU;kCAAyC;;;;;;;;YAI5D,WAAW,yBACV;;kCACE,8OAAC,6MAAK;wBAAC,WAAU;;;;;;kCACjB,8OAAC;wBAAK,WAAU;kCAAyC;;;;;;;;YAI5D,WAAW,yBACV;;kCACE,8OAAC,0NAAQ;wBAAC,WAAU;;;;;;kCACpB,8OAAC;wBAAK,WAAU;kCAAiC;;;;;;;;;;;;;;AAK3D"}},
    {"offset": {"line": 3273, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3548, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8OAAC,yKAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 3575, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/ui/switch.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\n\nimport { cn } from '@/lib/utils'\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\n        }\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,6WACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2KAAqB;YACpB,aAAU;YACV,WACE;;;;;;;;;;;AAKV"}},
    {"offset": {"line": 3610, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8OAAC,0KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,kHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,2OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,aAAU;YACV,WAAW,IAAA,kHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,kHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIT;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,qNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAGjC;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,8OAAC,+KAAyB;QACxB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,8OAAC,oLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,qOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,8OAAC,sLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC"}},
    {"offset": {"line": 3843, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/settings-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { X, RotateCcw, Keyboard, Grid, Moon, Sun, Undo, ChevronRight, ArrowLeft, Globe } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Input } from \"@/components/ui/input\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { useHaloboardStore, DEFAULT_KEYBINDINGS } from \"@/lib/store\"\nimport type { Keybindings, Language, GridType } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\nimport { useTheme } from \"next-themes\"\nimport { useTranslation } from \"@/lib/i18n\"\n\ninterface SettingsModalProps {\n  isOpen: boolean\n  onClose: () => void\n}\n\ntype View = \"main\" | \"keybindings\" | \"language\"\n\nconst FlagIcon = ({ lang }: { lang: Language }) => {\n  switch (lang) {\n    case \"tr\":\n      return (\n        <svg viewBox=\"0 0 32 32\" className=\"size-6 rounded-full border border-black/10 overflow-hidden\">\n          <rect width=\"32\" height=\"32\" fill=\"#E30A17\" />\n          <circle cx=\"14\" cy=\"16\" r=\"8\" fill=\"white\" />\n          <circle cx=\"16\" cy=\"16\" r=\"6.4\" fill=\"#E30A17\" />\n          <path d=\"M21.827,16.897l-0.363-1.117l-0.977-0.663l1.152-0.223l0.558-1.032l0.31,1.133l1.112,0.378l-0.918,0.743l0.182,1.16L21.827,16.897z\" fill=\"white\" transform=\"translate(-1 0.5) scale(1.2)\" />\n        </svg>\n      )\n    case \"ru\":\n      return (\n        <svg viewBox=\"0 0 32 32\" className=\"size-6 rounded-full border border-black/10 overflow-hidden\">\n          <rect width=\"32\" height=\"10.6\" fill=\"white\" />\n          <rect y=\"10.6\" width=\"32\" height=\"10.6\" fill=\"#0039A6\" />\n          <rect y=\"21.2\" width=\"32\" height=\"10.8\" fill=\"#D52B1E\" />\n        </svg>\n      )\n    case \"es\":\n      return (\n        <svg viewBox=\"0 0 32 32\" className=\"size-6 rounded-full border border-black/10 overflow-hidden\">\n          <rect width=\"32\" height=\"8\" fill=\"#AA151B\" />\n          <rect y=\"8\" width=\"32\" height=\"16\" fill=\"#F1BF00\" />\n          <rect y=\"24\" width=\"32\" height=\"8\" fill=\"#AA151B\" />\n        </svg>\n      )\n    case \"en\":\n      return (\n        <svg viewBox=\"0 0 32 32\" className=\"size-6 rounded-full border border-black/10 overflow-hidden\">\n          <rect width=\"32\" height=\"32\" fill=\"#00247D\" />\n          <path d=\"M0,0 L32,32 M32,0 L0,32\" stroke=\"white\" strokeWidth=\"4\" />\n          <path d=\"M16,0 L16,32 M0,16 L32,16\" stroke=\"white\" strokeWidth=\"6\" />\n          <path d=\"M16,0 L16,32 M0,16 L32,16\" stroke=\"#CF142B\" strokeWidth=\"3\" />\n        </svg>\n      )\n  }\n}\n\nexport function SettingsModal({ isOpen, onClose }: SettingsModalProps) {\n  const { \n    keybindings, setKeybinding, resetKeybindings, \n    showGrid, setShowGrid, gridType, setGridType,\n    maxUndoSteps, setMaxUndoSteps, \n    highlightColor, setHighlightColor,\n    language, setLanguage\n  } = useHaloboardStore()\n  \n  const { theme, setTheme } = useTheme()\n  const { t } = useTranslation()\n  const [mounted, setMounted] = useState(false)\n  const [view, setView] = useState<View>(\"main\")\n  const [listeningAction, setListeningAction] = useState<keyof Keybindings | null>(null)\n\n  useEffect(() => setMounted(true), [])\n\n  // Keybinding Listener\n  useEffect(() => {\n    if (!listeningAction) return\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      e.preventDefault()\n      const key = e.key.toLowerCase()\n      if (key === \"escape\") {\n        setListeningAction(null)\n        return\n      }\n      setKeybinding(listeningAction, key)\n      setListeningAction(null)\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [listeningAction, setKeybinding])\n\n  if (!isOpen) return null\n\n  const colors = [ \n    { name: \"Blue\", value: \"#0A84FF\" }, \n    { name: \"Red\", value: \"#EF4444\" }, \n    { name: \"Green\", value: \"#22C55E\" }, \n    { name: \"Yellow\", value: \"#EAB308\" }, \n    { name: \"Purple\", value: \"#8B5CF6\" } \n  ]\n\n  const actionLabels: Record<keyof Keybindings, string> = {\n    select: t(\"select\", \"tools\") + \" Tool\",\n    brush: t(\"brush\", \"tools\") + \" Tool\",\n    eraser: t(\"eraser\", \"tools\") + \" Tool\",\n    shape: t(\"shape\", \"tools\") + \" Tool\",\n    text: t(\"text\", \"tools\") + \" Tool\",\n    note: t(\"note\", \"tools\") + \" Tool\",\n    image: t(\"image\", \"tools\") + \" Tool\",\n  }\n\n  const languages: { code: Language; name: string }[] = [\n    { code: \"en\", name: \"English\" },\n    { code: \"tr\", name: \"Türkçe\" },\n    { code: \"ru\", name: \"Русский\" },\n    { code: \"es\", name: \"Español\" },\n  ]\n\n  // Override CSS variables for the scope of this modal\n  const modalStyle = {\n    \"--primary\": highlightColor,\n    \"--ring\": highlightColor,\n  } as React.CSSProperties\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n      <div \n        className=\"relative w-full max-w-md rounded-xl border border-white/20 bg-white/95 p-6 shadow-2xl backdrop-blur-xl dark:border-white/10 dark:bg-neutral-900/95 overflow-hidden flex flex-col max-h-[85vh]\"\n        style={modalStyle}\n      >\n        \n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6 shrink-0\">\n          <div className=\"flex items-center gap-3\">\n            {view !== \"main\" ? (\n              <button onClick={() => setView(\"main\")} className=\"rounded-full p-1 hover:bg-black/5 dark:hover:bg-white/5\">\n                <ArrowLeft className=\"size-5 text-neutral-600 dark:text-neutral-400\" />\n              </button>\n            ) : (\n              <div className=\"size-5\" /> // Spacer\n            )}\n            <h2 className=\"text-xl font-bold text-neutral-800 dark:text-neutral-200\">\n              {view === \"main\" ? t(\"settings\") : view === \"keybindings\" ? t(\"keybindings\") : t(\"language\")}\n            </h2>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"rounded-lg p-1 hover:bg-black/5 dark:hover:bg-white/5\"\n          >\n            <X className=\"size-5 text-neutral-600 dark:text-neutral-400\" />\n          </button>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto pr-1\">\n          {/* MAIN SETTINGS VIEW */}\n          {view === \"main\" && (\n            <div className=\"space-y-6\">\n              {/* General Settings */}\n              <div className=\"space-y-4\">\n                <div className=\"flex flex-col gap-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <Grid className=\"size-5 text-neutral-500\" />\n                      <span className=\"text-sm font-medium text-neutral-700 dark:text-neutral-300\">{t(\"showGrid\")}</span>\n                    </div>\n                    <Switch checked={showGrid} onCheckedChange={setShowGrid} style={{ \"--primary\": highlightColor } as React.CSSProperties} />\n                  </div>\n                  \n                  {showGrid && (\n                    <div className=\"flex items-center justify-between pl-8 animate-in slide-in-from-top-2 duration-200\">\n                      <span className=\"text-xs text-neutral-500 dark:text-neutral-400\">{t(\"gridType\")}</span>\n                      <Select value={gridType} onValueChange={(v: GridType) => setGridType(v)}>\n                        <SelectTrigger className=\"h-8 w-28 text-xs\">\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"dots\">{t(\"dots\")}</SelectItem>\n                          <SelectItem value=\"lines\">{t(\"lines\")}</SelectItem>\n                          <SelectItem value=\"cross\">{t(\"cross\")}</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    {mounted && theme === 'dark' ? <Moon className=\"size-5 text-neutral-500\" /> : <Sun className=\"size-5 text-neutral-500\" />}\n                    <span className=\"text-sm font-medium text-neutral-700 dark:text-neutral-300\">{t(\"darkMode\")}</span>\n                  </div>\n                  <Switch checked={mounted && theme === 'dark'} onCheckedChange={(c) => setTheme(c ? 'dark' : 'light')} style={{ \"--primary\": highlightColor } as React.CSSProperties} />\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <Undo className=\"size-5 text-neutral-500\" />\n                    <span className=\"text-sm font-medium text-neutral-700 dark:text-neutral-300\">{t(\"maxUndoSteps\")}</span>\n                  </div>\n                  <Input \n                    type=\"number\" \n                    min={1} \n                    max={200} \n                    value={maxUndoSteps} \n                    onChange={(e) => setMaxUndoSteps(Number(e.target.value))} \n                    className=\"h-8 w-20 text-center focus-visible:ring-[var(--ring)]\" \n                  />\n                </div>\n              </div>\n\n              <div className=\"h-px bg-neutral-200 dark:bg-neutral-800\" />\n\n              {/* Highlight Color */}\n              <div>\n                <label className=\"mb-3 block text-sm font-medium text-neutral-700 dark:text-neutral-300\">{t(\"highlightColor\")}</label>\n                <div className=\"flex gap-3\">\n                  {colors.map((c) => (\n                    <button \n                      key={c.value} \n                      onClick={() => setHighlightColor(c.value)} \n                      className={cn(\n                        \"size-8 rounded-full border-2 transition-all\", \n                        highlightColor === c.value ? \"border-neutral-900 dark:border-white scale-110\" : \"border-transparent\"\n                      )} \n                      style={{ backgroundColor: c.value }} \n                      title={c.name} \n                    />\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"h-px bg-neutral-200 dark:bg-neutral-800\" />\n\n              {/* Sub-Menus */}\n              <div className=\"space-y-2\">\n                <button \n                  onClick={() => setView(\"language\")}\n                  className=\"flex w-full items-center justify-between rounded-lg p-3 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <Globe className=\"size-5 text-neutral-500\" />\n                    <span className=\"text-sm font-medium text-neutral-700 dark:text-neutral-300\">{t(\"language\")}</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <FlagIcon lang={language} />\n                    <span className=\"text-xs text-neutral-500 uppercase\">{language}</span>\n                    <ChevronRight className=\"size-4 text-neutral-400\" />\n                  </div>\n                </button>\n\n                <button \n                  onClick={() => setView(\"keybindings\")}\n                  className=\"flex w-full items-center justify-between rounded-lg p-3 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <Keyboard className=\"size-5 text-neutral-500\" />\n                    <span className=\"text-sm font-medium text-neutral-700 dark:text-neutral-300\">{t(\"keybindings\")}</span>\n                  </div>\n                  <ChevronRight className=\"size-4 text-neutral-400\" />\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* KEYBINDINGS VIEW */}\n          {view === \"keybindings\" && (\n            <div className=\"space-y-4\">\n              <div className=\"space-y-3\">\n                {Object.entries(keybindings).map(([action, key]) => (\n                  <div\n                    key={action}\n                    className=\"flex items-center justify-between rounded-lg border border-neutral-200 bg-neutral-50/50 p-3 dark:border-neutral-800 dark:bg-neutral-800/50\"\n                  >\n                    <span className=\"text-sm font-medium text-neutral-700 dark:text-neutral-300\">\n                      {actionLabels[action as keyof Keybindings]}\n                    </span>\n                    <button\n                      onClick={() => setListeningAction(action as keyof Keybindings)}\n                      className={cn(\n                        \"min-w-[3rem] rounded-md border px-2 py-1 text-xs font-mono font-bold uppercase transition-all\",\n                        listeningAction === action\n                          ? \"text-white animate-pulse\"\n                          : \"border-neutral-300 bg-white text-neutral-600 dark:border-neutral-600 dark:bg-neutral-700 dark:text-neutral-200\"\n                      )}\n                      style={listeningAction === action ? { backgroundColor: highlightColor, borderColor: highlightColor } : {}}\n                    >\n                      {listeningAction === action ? \"...\" : key}\n                    </button>\n                  </div>\n                ))}\n              </div>\n              \n              <Button\n                variant=\"outline\"\n                onClick={resetKeybindings}\n                className=\"w-full gap-2 text-xs mt-4 hover:bg-[var(--primary)]/10 hover:text-[var(--primary)] hover:border-[var(--primary)]\"\n              >\n                <RotateCcw className=\"size-3\" /> {t(\"resetDefaults\")}\n              </Button>\n            </div>\n          )}\n\n          {/* LANGUAGE VIEW */}\n          {view === \"language\" && (\n            <div className=\"space-y-3\">\n              {languages.map((lang) => (\n                <button\n                  key={lang.code}\n                  onClick={() => setLanguage(lang.code)}\n                  className={cn(\n                    \"flex w-full items-center justify-between rounded-lg border p-4 transition-all\",\n                    language === lang.code \n                      ? \"bg-[var(--primary)]/5 dark:bg-[var(--primary)]/10\" \n                      : \"border-neutral-200 bg-white hover:border-neutral-300 dark:border-neutral-800 dark:bg-neutral-900 dark:hover:border-neutral-700\"\n                  )}\n                  style={language === lang.code ? { borderColor: highlightColor } : {}}\n                >\n                  <div className=\"flex items-center gap-4\">\n                    <FlagIcon lang={lang.code} />\n                    <span className={cn(\n                      \"text-sm font-medium\",\n                      language === lang.code ? \"text-[var(--primary)]\" : \"text-neutral-700 dark:text-neutral-300\"\n                    )}>\n                      {lang.name}\n                    </span>\n                  </div>\n                  {language === lang.code && (\n                    <div className=\"size-2 rounded-full\" style={{ backgroundColor: highlightColor }} />\n                  )}\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4755, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/header.tsx"],"sourcesContent":["\"use client\"\n\nimport { Share2, MoreVertical, Plus, FolderOpen, FilePlus, Check, X, LayoutGrid, ArrowLeft } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useState, useEffect, useRef } from \"react\"\nimport { InviteModal } from \"@/components/invite-modal\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport { ExportMenu } from \"@/components/export-menu\"\nimport { AutoSaveIndicator } from \"@/components/auto-save-indicator\"\nimport { useStorage } from \"@/lib/storage\"\nimport { useTheme } from \"next-themes\"\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { cn } from \"@/lib/utils\"\nimport { SettingsModal } from \"@/components/settings-modal\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { useTranslation } from \"@/lib/i18n\"\n\nexport function Header() {\n  const [showInviteModal, setShowInviteModal] = useState(false)\n  const [showNewProjectModal, setShowNewProjectModal] = useState(false)\n  const [showSettingsModal, setShowSettingsModal] = useState(false)\n  const [projectName, setProjectName] = useState(\"Untitled Project\")\n  const [projectMode, setProjectMode] = useState<\"infinite\" | \"fixed\">(\"infinite\")\n  const [projectWidth, setProjectWidth] = useState(1920)\n  const [projectHeight, setProjectHeight] = useState(1080)\n  const [projectBg, setProjectBg] = useState(\"#ffffff\")\n  \n  const [isEditingName, setIsEditingName] = useState(false)\n  const [tempName, setTempName] = useState(\"\")\n  const nameInputRef = useRef<HTMLInputElement>(null)\n\n  const users = useHaloboardStore((state) => state.users)\n  const { resetProject, loadProject, canvasSettings, setCanvasSettings, addObject, addLayer, updateLayer, highlightColor, setIsProjectMinimized } = useHaloboardStore()\n  const { theme, setTheme } = useTheme()\n  const storage = useStorage()\n  const { toast } = useToast()\n  const { t } = useTranslation()\n  \n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const imgInputRef = useRef<HTMLInputElement>(null)\n\n  const [mounted, setMounted] = useState(false)\n  useEffect(() => setMounted(true), [])\n  useEffect(() => { return () => { if (storage) storage.stopAutoSave() } }, [storage])\n\n  // Ctrl + S Shortcut\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 's') {\n        e.preventDefault()\n        toast({\n          description: t(\"autoSaveMessage\"),\n          duration: 3000,\n        })\n      }\n    }\n    window.addEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [t, toast])\n\n  useEffect(() => {\n    if (isEditingName && nameInputRef.current) {\n      nameInputRef.current.focus()\n      nameInputRef.current.select()\n    }\n  }, [isEditingName])\n\n  const handleImportTPAD = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]; if (!file) return;\n    const reader = new FileReader(); reader.onload = (event) => { try { const content = event.target?.result as string; const data = JSON.parse(content); if (data.objects && data.layers) loadProject(data); else alert(\"Invalid .tpad file\") } catch (err) { console.error(\"Failed to parse tpad file\", err); alert(\"Failed to load file\") } }; reader.readAsText(file); e.target.value = ''\n  }\n\n  const handleImportBackground = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]; if (!file) return;\n    const reader = new FileReader(); reader.onload = (event) => {\n      const src = event.target?.result as string; const img = new Image(); img.onload = () => {\n        const store = useHaloboardStore.getState()\n        store.addLayer(t(\"newLayer\") + \" \" + (store.layers.length + 1)) \n        const { activeLayerId, layers, reorderLayer, updateLayer, addObject } = useHaloboardStore.getState()\n        updateLayer(activeLayerId, { name: t(\"background\") })\n        reorderLayer(0, layers.length)\n        addObject({ \n          id: `bg-${Date.now()}`, \n          name: t(\"background\"), \n          type: \"image\", \n          layerId: activeLayerId, \n          transform: { x: 0, y: 0, rotation: 0, scaleX: 1, scaleY: 1, anchor: \"center\" }, \n          data: { src, width: img.width, height: img.height, opacity: 1, blendMode: 'normal' } \n        })\n      }; img.src = src;\n    }; reader.readAsDataURL(file); e.target.value = '';\n  }\n\n  const handleCreateProject = () => { resetProject({ projectName: projectName.trim() || t(\"untitledProject\"), infinite: projectMode === \"infinite\", width: projectWidth, height: projectHeight, backgroundColor: projectBg }); setShowNewProjectModal(false) }\n\n  const startRenaming = () => {\n    setTempName(canvasSettings.projectName)\n    setIsEditingName(true)\n  }\n\n  const finishRenaming = () => {\n    if (tempName.trim()) {\n      setCanvasSettings({ projectName: tempName.trim() })\n    }\n    setIsEditingName(false)\n  }\n\n  return (\n    <>\n      <header className=\"absolute left-0 right-0 top-0 z-40 flex h-14 items-center justify-between border-b border-neutral-200/80 bg-neutral-100/50 px-4 backdrop-blur-sm dark:border-neutral-800/80 dark:bg-neutral-900/50\">\n        <div className=\"flex items-center gap-4\">\n          {/* Dashboard Button - Replaces Menu */}\n          <Button \n            variant=\"ghost\" \n            className=\"gap-2 hover:bg-neutral-200 dark:hover:bg-neutral-800 font-medium text-neutral-700 dark:text-neutral-300\"\n            onClick={() => setIsProjectMinimized(true)}\n          >\n            <LayoutGrid className=\"size-4\" /> {/* Using LayoutGrid as icon */}\n            {t(\"dashboard\")}\n          </Button>\n\n          <div className=\"h-5 w-px bg-neutral-300 dark:bg-neutral-700\" />\n\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild><Button variant=\"ghost\" size=\"icon\" className=\"size-8 hover:bg-neutral-200 dark:hover:bg-neutral-800\"><Plus className=\"size-5 text-neutral-700 dark:text-neutral-300\" /></Button></DropdownMenuTrigger>\n            <DropdownMenuContent align=\"start\">\n              <DropdownMenuItem onClick={() => setShowNewProjectModal(true)}><FilePlus className=\"mr-2 size-4\" /><span>{t(\"newProject\")}</span></DropdownMenuItem>\n              <DropdownMenuItem onClick={() => fileInputRef.current?.click()}><FolderOpen className=\"mr-2 size-4\" /><span>{t(\"openTpad\")}</span></DropdownMenuItem>\n              <DropdownMenuItem onClick={() => imgInputRef.current?.click()}><FolderOpen className=\"mr-2 size-4\" /><span>{t(\"importImage\")}</span></DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n          <input type=\"file\" accept=\".tpad,.json\" ref={fileInputRef} className=\"hidden\" onChange={handleImportTPAD} />\n          <input type=\"file\" accept=\"image/*\" ref={imgInputRef} className=\"hidden\" onChange={handleImportBackground} />\n          <div className=\"flex gap-2\"><div className=\"size-3 rounded-full bg-red-500\" /><div className=\"size-3 rounded-full bg-yellow-500\" /><div className=\"size-3 rounded-full bg-green-500\" /></div>\n        </div>\n        \n        <div className=\"absolute left-1/2 flex -translate-x-1/2 items-center gap-3\">\n          <span className=\"text-sm font-medium text-neutral-600 dark:text-neutral-400\">TeamPad - </span>\n          {isEditingName ? (\n            <input\n              ref={nameInputRef}\n              type=\"text\"\n              value={tempName}\n              onChange={(e) => setTempName(e.target.value)}\n              onBlur={finishRenaming}\n              onKeyDown={(e) => e.key === \"Enter\" && finishRenaming()}\n              className=\"h-6 w-40 rounded-sm border bg-white px-1 text-sm font-medium text-neutral-900 outline-none dark:bg-neutral-800 dark:text-neutral-100 focus:ring-2\"\n              style={{ borderColor: highlightColor, \"--ring\": highlightColor } as React.CSSProperties}\n            />\n          ) : (\n            <h1 \n              onClick={startRenaming}\n              className=\"cursor-text rounded-sm px-1 text-sm font-medium text-neutral-900 hover:bg-black/5 dark:text-neutral-100 dark:hover:bg-white/10\"\n            >\n              {canvasSettings.projectName}\n            </h1>\n          )}\n          <AutoSaveIndicator />\n        </div>\n\n        <div className=\"flex flex-1 items-center justify-end gap-3\">\n          <div className=\"flex items-center -space-x-2\">{users.slice(0, 3).map((user) => (<div key={user.id} className=\"size-8 rounded-full border-2 border-white dark:border-neutral-800\" style={{ backgroundColor: user.color }} title={user.name} />))}{users.length > 3 && (<div className=\"flex size-8 items-center justify-center rounded-full border-2 border-white bg-neutral-200 text-xs font-semibold text-neutral-600 dark:border-neutral-800 dark:bg-neutral-700 dark:text-neutral-300\">+{users.length - 3}</div>)}</div>\n          <ExportMenu />\n          <Button onClick={() => setShowInviteModal(true)} className=\"h-8 gap-2 text-sm font-semibold text-white hover:opacity-90\" style={{ backgroundColor: highlightColor }}><Share2 className=\"size-4\" /> {t(\"share\")}</Button>\n          \n          {/* Settings Modal Trigger */}\n          <Button \n            onClick={() => setShowSettingsModal(true)} \n            variant=\"ghost\" \n            size=\"icon\" \n            className=\"h-8 w-8\"\n          >\n            <MoreVertical className=\"size-4\" />\n          </Button>\n        </div>\n      </header>\n      \n      <InviteModal isOpen={showInviteModal} onClose={() => setShowInviteModal(false)} />\n      <SettingsModal isOpen={showSettingsModal} onClose={() => setShowSettingsModal(false)} />\n      \n      {showNewProjectModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n          <div className=\"relative w-full max-w-md rounded-xl border border-white/20 bg-white/95 p-6 shadow-2xl backdrop-blur-xl dark:border-white/10 dark:bg-neutral-900/95 transition-all\" style={{ \"--ring\": highlightColor } as React.CSSProperties}>\n            <button onClick={() => setShowNewProjectModal(false)} className=\"absolute right-4 top-4 rounded-lg p-1 hover:bg-black/5 dark:hover:bg-white/5\"><X className=\"size-5 text-neutral-600 dark:text-neutral-400\" /></button>\n            <h2 className=\"text-xl font-bold text-neutral-800 dark:text-neutral-200 mb-6\">{t(\"newProject\")}</h2>\n            <div className=\"space-y-6\">\n              <div className=\"space-y-2\"><Label>Project Name</Label><Input value={projectName} onChange={(e) => setProjectName(e.target.value)} placeholder={t(\"untitledProject\")} className=\"focus-visible:ring-[var(--ring)]\" /></div>\n              <div className=\"space-y-3\"><Label className=\"text-xs font-medium text-neutral-500 uppercase\">Canvas Mode</Label><div className=\"grid grid-cols-2 gap-2\"><button onClick={() => setProjectMode(\"infinite\")} className={cn(\"flex flex-col items-center justify-center gap-2 rounded-lg border-2 p-4 transition-all\", projectMode === \"infinite\" ? \"bg-[#0A84FF]/5 text-[#0A84FF]\" : \"border-neutral-200 bg-transparent text-neutral-600 hover:border-neutral-300 dark:border-neutral-800 dark:text-neutral-400\")} style={{ borderColor: projectMode === \"infinite\" ? highlightColor : undefined, color: projectMode === \"infinite\" ? highlightColor : undefined }}><span className=\"font-semibold\">Infinite Canvas</span></button><button onClick={() => setProjectMode(\"fixed\")} className={cn(\"flex flex-col items-center justify-center gap-2 rounded-lg border-2 p-4 transition-all\", projectMode === \"fixed\" ? \"bg-[#0A84FF]/5 text-[#0A84FF]\" : \"border-neutral-200 bg-transparent text-neutral-600 hover:border-neutral-300 dark:border-neutral-800 dark:text-neutral-400\")} style={{ borderColor: projectMode === \"fixed\" ? highlightColor : undefined, color: projectMode === \"fixed\" ? highlightColor : undefined }}><span className=\"font-semibold\">Specific Resolution</span></button></div></div>\n              {projectMode === \"fixed\" && (<div className=\"space-y-4 animate-in fade-in zoom-in-95 duration-200\"><div className=\"grid grid-cols-2 gap-4\"><div className=\"space-y-1.5\"><Label>Width (px)</Label><Input type=\"number\" value={projectWidth} onChange={(e) => setProjectWidth(Number(e.target.value))} className=\"focus-visible:ring-[var(--ring)]\" /></div><div className=\"space-y-1.5\"><Label>Height (px)</Label><Input type=\"number\" value={projectHeight} onChange={(e) => setProjectHeight(Number(e.target.value))} className=\"focus-visible:ring-[var(--ring)]\" /></div></div><div className=\"space-y-2\"><Label>Background Color</Label><div className=\"flex items-center gap-3\"><button onClick={() => setProjectBg(\"#ffffff\")} className={cn(\"size-8 rounded-full border shadow-sm bg-white\", projectBg === \"#ffffff\" && \"ring-2 ring-offset-2\")} style={{ \"--ring\": highlightColor } as React.CSSProperties} /><button onClick={() => setProjectBg(\"#000000\")} className={cn(\"size-8 rounded-full border shadow-sm bg-black\", projectBg === \"#000000\" && \"ring-2 ring-offset-2\")} style={{ \"--ring\": highlightColor } as React.CSSProperties} /><div className=\"relative flex items-center\"><input type=\"color\" value={projectBg} onChange={(e) => setProjectBg(e.target.value)} className=\"size-8 p-0 border-0 rounded-full overflow-hidden cursor-pointer\" /></div><span className=\"text-sm font-mono text-neutral-500 uppercase\">{projectBg}</span></div></div></div>)}\n              <Button onClick={handleCreateProject} className=\"w-full hover:opacity-90 gap-2\" style={{ backgroundColor: highlightColor }}><Plus className=\"size-4\" /> {t(\"newProject\")}</Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5605, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/zoom-controls.tsx"],"sourcesContent":["\"use client\"\n\nimport { Minus, Plus, Maximize2 } from \"lucide-react\"\nimport { useHaloboardStore } from \"@/lib/store\"\n\nexport function ZoomControls() {\n  const { zoom, setZoom, setPan } = useHaloboardStore()\n\n  const handleZoomIn = () => setZoom(zoom * 1.2)\n  const handleZoomOut = () => setZoom(zoom / 1.2)\n  const handleResetView = () => {\n    setZoom(1)\n    setPan(0, 0)\n  }\n\n  return (\n    <footer className=\"fixed bottom-4 right-4 z-30\">\n      <div className=\"flex items-center gap-2 rounded-lg border border-white/20 bg-white/60 p-1 shadow-lg backdrop-blur-xl dark:border-white/10 dark:bg-neutral-900/60\">\n        <button\n          onClick={handleZoomOut}\n          className=\"rounded p-1.5 text-neutral-600 transition-colors hover:bg-[#0A84FF]/10 hover:text-[#0A84FF] dark:text-neutral-400\"\n        >\n          <Minus className=\"size-4\" />\n        </button>\n        <span className=\"w-12 text-center text-xs font-semibold text-neutral-700 dark:text-neutral-300\">\n          {Math.round(zoom * 100)}%\n        </span>\n        <button\n          onClick={handleZoomIn}\n          className=\"rounded p-1.5 text-neutral-600 transition-colors hover:bg-[#0A84FF]/10 hover:text-[#0A84FF] dark:text-neutral-400\"\n        >\n          <Plus className=\"size-4\" />\n        </button>\n        <div className=\"mx-1 h-5 w-px bg-neutral-200 dark:bg-neutral-700\" />\n        <button\n          onClick={handleResetView}\n          className=\"rounded p-1.5 text-neutral-600 transition-colors hover:bg-[#0A84FF]/10 hover:text-[#0A84FF] dark:text-neutral-400\"\n        >\n          <Maximize2 className=\"size-4\" />\n        </button>\n      </div>\n    </footer>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AAHA;;;;AAKO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,iIAAiB;IAEnD,MAAM,eAAe,IAAM,QAAQ,OAAO;IAC1C,MAAM,gBAAgB,IAAM,QAAQ,OAAO;IAC3C,MAAM,kBAAkB;QACtB,QAAQ;QACR,OAAO,GAAG;IACZ;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,SAAS;oBACT,WAAU;8BAEV,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;8BAEnB,8OAAC;oBAAK,WAAU;;wBACb,KAAK,KAAK,CAAC,OAAO;wBAAK;;;;;;;8BAE1B,8OAAC;oBACC,SAAS;oBACT,WAAU;8BAEV,cAAA,8OAAC,0MAAI;wBAAC,WAAU;;;;;;;;;;;8BAElB,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBACC,SAAS;oBACT,WAAU;8BAEV,cAAA,8OAAC,6NAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;AAK/B"}},
    {"offset": {"line": 5710, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/ui/slider.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SliderPrimitive from '@radix-ui/react-slider'\n\nimport { cn } from '@/lib/utils'\n\nfunction Slider({\n  className,\n  defaultValue,\n  value,\n  min = 0,\n  max = 100,\n  ...props\n}: React.ComponentProps<typeof SliderPrimitive.Root>) {\n  const _values = React.useMemo(\n    () =>\n      Array.isArray(value)\n        ? value\n        : Array.isArray(defaultValue)\n          ? defaultValue\n          : [min, max],\n    [value, defaultValue, min, max],\n  )\n\n  return (\n    <SliderPrimitive.Root\n      data-slot=\"slider\"\n      defaultValue={defaultValue}\n      value={value}\n      min={min}\n      max={max}\n      className={cn(\n        'relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col',\n        className,\n      )}\n      {...props}\n    >\n      <SliderPrimitive.Track\n        data-slot=\"slider-track\"\n        className={\n          'bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5'\n        }\n      >\n        <SliderPrimitive.Range\n          data-slot=\"slider-range\"\n          className={\n            'bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full'\n          }\n        />\n      </SliderPrimitive.Track>\n      {Array.from({ length: _values.length }, (_, index) => (\n        <SliderPrimitive.Thumb\n          data-slot=\"slider-thumb\"\n          key={index}\n          className=\"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50\"\n        />\n      ))}\n    </SliderPrimitive.Root>\n  )\n}\n\nexport { Slider }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,YAAY,EACZ,KAAK,EACL,MAAM,CAAC,EACP,MAAM,GAAG,EACT,GAAG,OAC+C;IAClD,MAAM,UAAU,gNAAa,CAC3B,IACE,MAAM,OAAO,CAAC,SACV,QACA,MAAM,OAAO,CAAC,gBACZ,eACA;YAAC;YAAK;SAAI,EAClB;QAAC;QAAO;QAAc;QAAK;KAAI;IAGjC,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,cAAc;QACd,OAAO;QACP,KAAK;QACL,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,uOACA;QAED,GAAG,KAAK;;0BAET,8OAAC,2KAAqB;gBACpB,aAAU;gBACV,WACE;0BAGF,cAAA,8OAAC,2KAAqB;oBACpB,aAAU;oBACV,WACE;;;;;;;;;;;YAIL,MAAM,IAAI,CAAC;gBAAE,QAAQ,QAAQ,MAAM;YAAC,GAAG,CAAC,GAAG,sBAC1C,8OAAC,2KAAqB;oBACpB,aAAU;oBAEV,WAAU;mBADL;;;;;;;;;;;AAMf"}},
    {"offset": {"line": 5780, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/ui/scroll-area.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area'\n\nimport { cn } from '@/lib/utils'\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn('relative', className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  )\n}\n\nfunction ScrollBar({\n  className,\n  orientation = 'vertical',\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        'flex touch-none p-px transition-colors select-none',\n        orientation === 'vertical' &&\n          'h-full w-2.5 border-l border-l-transparent',\n        orientation === 'horizontal' &&\n          'h-2.5 flex-col border-t border-t-transparent',\n        className,\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-full\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  )\n}\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,8OAAC,kLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;0BAET,8OAAC,sLAA4B;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC,oLAA0B;;;;;;;;;;;AAGjC;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,8OAAC,iMAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,IAAA,kHAAE,EACX,sDACA,gBAAgB,cACd,8CACF,gBAAgB,gBACd,gDACF;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6LAAmC;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB"}},
    {"offset": {"line": 5850, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\nimport { CheckIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8OAAC,4KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,8OAAC,qNAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B"}},
    {"offset": {"line": 5894, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/right-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef } from \"react\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport { Slider } from \"@/components/ui/slider\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Label } from \"@/components/ui/label\"\nimport { \n  Eye, EyeOff, Lock, LockOpen, ChevronDown, ChevronRight, Plus, Trash2, \n  Minimize2, Maximize2, RotateCcw, Clock,\n  AlignLeft, AlignCenter, AlignRight, Type, Image as ImageIcon, Upload,\n  BoxSelect, Eraser, GripVertical\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport type { AnchorPosition } from \"@/lib/types\"\nimport { useTranslation } from \"@/lib/i18n\"\n\ninterface PanelSectionProps {\n  title: string\n  children: React.ReactNode\n  className?: string\n  defaultOpen?: boolean\n}\n\nfunction PanelSection({ title, children, className, defaultOpen = true }: PanelSectionProps) {\n  const [isOpen, setIsOpen] = useState(defaultOpen)\n  return (\n    <div className={cn(\"rounded-xl border border-white/20 bg-white/70 shadow-lg backdrop-blur-xl dark:border-white/10 dark:bg-neutral-900/70\", className)}>\n      <div className=\"flex items-center justify-between p-3 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors rounded-t-xl\" onClick={() => setIsOpen(!isOpen)}>\n        <h3 className=\"text-sm font-semibold text-neutral-800 dark:text-neutral-200\">{title}</h3>\n        <Button variant=\"ghost\" size=\"icon\" className=\"size-6 h-6 w-6\">{isOpen ? <Minimize2 className=\"size-3\" /> : <Maximize2 className=\"size-3\" />}</Button>\n      </div>\n      {isOpen && <div className=\"p-3 pt-0 border-t border-neutral-200/50 dark:border-neutral-800/50 mt-1\">{children}</div>}\n    </div>\n  )\n}\n\nfunction PropertiesSection() {\n  const { \n    selectedIds, objects, updateObject, addObject, \n    activeTool, brushSettings, setBrushSettings, shapeSettings, setShapeSettings, \n    showTransformHandles, setShowTransformHandles,\n    panX, panY, zoom, highlightColor\n  } = useHaloboardStore()\n  \n  const { t } = useTranslation()\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  \n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]; if (!file) return;\n    const reader = new FileReader(); reader.onload = (event) => {\n      const src = event.target?.result as string; const img = new Image(); img.onload = () => {\n        addObject({ id: `image-${Date.now()}`, type: \"image\", layerId: \"layer-1\", transform: { x: -panX / zoom + 100, y: -panY / zoom + 100, rotation: 0, scaleX: 1, scaleY: 1, anchor: \"top-left\" }, data: { src, width: 200, height: 200 * (img.height / img.width), opacity: 1, blendMode: 'normal' } })\n      }; img.src = src;\n    }; reader.readAsDataURL(file); e.target.value = '';\n  }\n  const selectedObject = selectedIds.length > 0 ? objects.find((obj) => obj.id === selectedIds[selectedIds.length - 1]) : null\n\n  if (activeTool === 'select' && !selectedObject) {\n    return (\n      <div className=\"flex flex-col gap-3 pt-2\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <BoxSelect className=\"size-4 text-neutral-500\" />\n            <Label htmlFor=\"show-handles\" className=\"text-xs font-medium text-neutral-700 dark:text-neutral-300 cursor-pointer\">Show transform</Label>\n          </div>\n          <div style={{ color: highlightColor }}>\n            <Checkbox id=\"show-handles\" checked={showTransformHandles} onCheckedChange={(c) => setShowTransformHandles(!!c)} className=\"data-[state=checked]:bg-[var(--primary)] data-[state=checked]:border-[var(--primary)]\" />\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  if (activeTool === 'eraser') {\n    return (\n      <div className=\"flex flex-col gap-4 pt-2\">\n        <div className=\"flex items-center gap-2\"><Eraser className=\"size-4 text-neutral-500\" /><span className=\"text-xs font-medium text-neutral-500 uppercase tracking-wider\">{t(\"eraserSettings\")}</span></div>\n        <div><label className=\"mb-2 flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400\"><span>{t(\"size\")}</span><span className=\"font-medium\">{brushSettings.size}px</span></label><Slider value={[brushSettings.size]} onValueChange={([value]) => setBrushSettings({ size: value })} min={1} max={100} step={1} className=\"w-full\" /></div>\n        <div>\n          <label className=\"text-[10px] text-neutral-500 mb-1 block\">Mode</label>\n          <div className=\"flex bg-neutral-100 dark:bg-neutral-800 rounded-md p-1 gap-1\">\n            {['object', 'partial'].map((mode) => (\n              <button key={mode} onClick={() => setBrushSettings({ eraserMode: mode as any })} className={cn(\"flex-1 flex justify-center py-1.5 rounded text-xs font-medium text-neutral-500 hover:bg-white hover:text-neutral-900 dark:hover:bg-neutral-700 transition-all\", brushSettings.eraserMode === mode && \"bg-white text-neutral-900 shadow-sm dark:bg-neutral-700 dark:text-white\")} style={brushSettings.eraserMode === mode ? { color: highlightColor, fontWeight: 'bold' } : {}}>{mode === 'object' ? 'Whole' : 'Partial'}</button>\n            ))}\n          </div>\n        </div>\n      </div>\n    )\n  }\n  \n  if (activeTool === 'shape') { return (<div className=\"flex flex-col gap-3 pt-2\"><div className=\"flex items-center justify-between\"><span className=\"text-xs font-medium text-neutral-500 uppercase tracking-wider\">{t(\"shapeTool\")}</span></div><div><label className=\"text-[10px] text-neutral-500 mb-1 block\">Shape Type</label><select className=\"w-full h-8 rounded-md border border-neutral-200 bg-white text-xs px-2 dark:bg-neutral-800 dark:border-neutral-700\" value={shapeSettings.shapeType} onChange={(e) => setShapeSettings({ shapeType: e.target.value as any })} style={{ outlineColor: highlightColor }}><option value=\"rectangle\">Rectangle</option><option value=\"rounded_rectangle\">Rounded Rectangle</option><option value=\"ellipse\">Ellipse</option><option value=\"circle\">Circle</option><option value=\"triangle\">Triangle</option><option value=\"line\">Line</option><option value=\"arrow\">Arrow</option><option value=\"star\">Star</option><option value=\"cloud\">Cloud</option><option value=\"speech_bubble\">Speech Bubble</option></select></div><div className=\"grid grid-cols-2 gap-2\"><div><label className=\"text-[10px] text-neutral-500 mb-1 block\">{t(\"fillColor\")}</label><div className=\"flex items-center gap-2\"><input type=\"color\" value={shapeSettings.fillColor} onChange={(e) => setShapeSettings({ fillColor: e.target.value })} className=\"size-6 border-0 p-0 rounded cursor-pointer\" /></div></div><div><label className=\"text-[10px] text-neutral-500 mb-1 block\">{t(\"strokeColor\")}</label><div className=\"flex items-center gap-2\"><input type=\"color\" value={shapeSettings.strokeColor} onChange={(e) => setShapeSettings({ strokeColor: e.target.value })} className=\"size-6 border-0 p-0 rounded cursor-pointer\" /></div></div></div><div><label className=\"text-[10px] text-neutral-500 mb-1 block\">Border Type</label><Select value={shapeSettings.borderType} onValueChange={(value: any) => setShapeSettings({ borderType: value })}><SelectTrigger className=\"w-full h-8 text-xs\"><SelectValue placeholder=\"Select border\" /></SelectTrigger><SelectContent><SelectItem value=\"solid\"><div className=\"flex items-center gap-2 w-24\"><div className=\"h-0.5 w-full bg-current\" /></div></SelectItem><SelectItem value=\"dashed\"><div className=\"flex items-center gap-2 w-24\"><div className=\"h-0.5 w-full border-t-2 border-dashed border-current\" /></div></SelectItem><SelectItem value=\"dotted\"><div className=\"flex items-center gap-2 w-24\"><div className=\"h-0.5 w-full border-t-2 border-dotted border-current\" /></div></SelectItem><SelectItem value=\"bold\"><div className=\"flex items-center gap-2 w-24\"><div className=\"h-1 w-full bg-current\" /></div></SelectItem><SelectItem value=\"none\"><span className=\"text-xs text-muted-foreground\">None</span></SelectItem></SelectContent></Select></div></div>) }\n  if (activeTool === 'brush') { return (<div className=\"flex flex-col gap-4 pt-2\"><div className=\"flex items-center justify-between\"><span className=\"text-xs font-medium text-neutral-500 uppercase tracking-wider\">{t(\"brushSettings\")}</span></div><div><label className=\"mb-2 flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400\"><span>{t(\"size\")}</span><span className=\"font-medium\">{brushSettings.size}px</span></label><Slider value={[brushSettings.size]} onValueChange={([value]) => setBrushSettings({ size: value })} min={1} max={50} step={1} className=\"w-full\" /></div><div><label className=\"mb-2 flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400\"><span>{t(\"opacity\")}</span><span className=\"font-medium\">{Math.round(brushSettings.opacity * 100)}%</span></label><Slider value={[brushSettings.opacity * 100]} onValueChange={([value]) => setBrushSettings({ opacity: value / 100 })} min={0} max={100} step={1} className=\"w-full\" /></div><div><label className=\"mb-2 block text-xs text-neutral-600 dark:text-neutral-400\">Color</label><div className=\"flex flex-wrap gap-2\">{[\"#000000\", \"#EF4444\", \"#F97316\", \"#EAB308\", \"#22C55E\", \"#0A84FF\", \"#8B5CF6\", \"#EC4899\"].map((color) => (<button key={color} onClick={() => setBrushSettings({ color })} className={cn(\"size-6 rounded-full border-2 transition-transform hover:scale-110\", brushSettings.color === color ? \"border-[var(--primary)] ring-2 ring-[var(--primary)]/30\" : \"border-transparent\")} style={{ backgroundColor: color }} />))}<input type=\"color\" value={brushSettings.color} onChange={(e) => setBrushSettings({ color: e.target.value })} className=\"size-6 p-0 border-0 rounded-full overflow-hidden cursor-pointer\" /></div></div></div>) }\n  if (activeTool === 'image') { return (<div className=\"flex flex-col gap-4 pt-2\"><div className=\"flex items-center justify-between\"><span className=\"text-xs font-medium text-neutral-500 uppercase tracking-wider\">{t(\"imageSettings\")}</span></div><input type=\"file\" accept=\"image/*\" ref={fileInputRef} className=\"hidden\" onChange={handleImageUpload} /><Button onClick={() => fileInputRef.current?.click()} className=\"w-full gap-2\" style={{ backgroundColor: highlightColor }}><Upload className=\"size-4\" /> {t(\"importImage\")}</Button></div>) }\n\n  if (!selectedObject) return <div className=\"text-xs text-neutral-500 p-2 text-center italic\">Select an object or tool to edit properties</div>\n  const currentAnchor = selectedObject.transform.anchor || 'top-left'\n  const anchorPositions: AnchorPosition[] = [ \"top-left\", \"top-center\", \"top-right\", \"center-left\", \"center\", \"center-right\", \"bottom-left\", \"bottom-center\", \"bottom-right\" ]\n\n  const textColors = [\n    \"#000000\", \"#333333\", \"#EF4444\", \"#F97316\", \"#EAB308\", \"#22C55E\", \"#0A84FF\", \"#8B5CF6\", \"#EC4899\", \"#FFFFFF\"\n  ]\n\n  return (\n    <div className=\"flex flex-col gap-3 pt-2\">\n      <div><label className=\"mb-2 block text-xs font-medium text-neutral-600 dark:text-neutral-400\">{t(\"anchorPoint\")}</label><div className=\"grid grid-cols-3 gap-1 w-20 p-1 bg-neutral-100 dark:bg-neutral-800 rounded-md mx-auto\">{anchorPositions.map(pos => (<button key={pos} onClick={() => updateObject(selectedObject.id, { transform: { ...selectedObject.transform, anchor: pos } })} className={cn(\"size-5 flex items-center justify-center rounded-[2px] hover:bg-white dark:hover:bg-neutral-700 transition-all\", currentAnchor === pos && \"bg-white dark:bg-neutral-700 shadow-sm ring-1 ring-black/5\")}><div className={cn(\"size-1.5 rounded-full\", currentAnchor === pos ? \"bg-[var(--primary)]\" : \"bg-neutral-400\")} /></button>))}</div></div>\n      {(selectedObject.type === \"text\" || selectedObject.type === \"note\") && (\n        <div className=\"space-y-3 pb-3 border-b border-neutral-200 dark:border-neutral-700\">\n          <div className=\"flex items-center gap-2\"><Type className=\"size-4 text-neutral-500\" /><span className=\"text-xs font-medium\">{selectedObject.type === 'note' ? t(\"noteStyles\") : t(\"textStyles\")}</span></div>\n          <div className=\"grid grid-cols-2 gap-2\">\n            <div><label className=\"text-[10px] text-neutral-500 mb-1 block\">{t(\"font\")}</label><select className=\"w-full h-8 rounded-md border border-neutral-200 bg-white text-xs px-2 dark:bg-neutral-800 dark:border-neutral-700 focus:ring-2 focus:ring-[var(--primary)] focus:border-transparent outline-none\" style={{ \"--ring\": highlightColor } as React.CSSProperties} value={(selectedObject.data as any).fontFamily} onChange={(e) => updateObject(selectedObject.id, { data: { ...(selectedObject.data as any), fontFamily: e.target.value } })}><option value=\"Inter\">Inter</option><option value=\"Arial\">Arial</option><option value=\"Times New Roman\">Serif</option><option value=\"Courier New\">Mono</option></select></div>\n            <div><label className=\"text-[10px] text-neutral-500 mb-1 block\">{t(\"size\")}</label><input type=\"number\" className=\"w-full h-8 rounded-md border border-neutral-200 bg-white text-xs px-2 dark:bg-neutral-800 dark:border-neutral-700 focus:ring-2 focus:ring-[var(--primary)] focus:border-transparent outline-none\" style={{ \"--ring\": highlightColor } as React.CSSProperties} value={(selectedObject.data as any).fontSize || 14} onChange={(e) => updateObject(selectedObject.id, { data: { ...(selectedObject.data as any), fontSize: Number(e.target.value) } })} /></div>\n          </div>\n          <div><label className=\"text-[10px] text-neutral-500 mb-1 block\">{t(\"align\")}</label><div className=\"flex bg-neutral-100 dark:bg-neutral-800 rounded-md p-1 gap-1\">{['left', 'center', 'right'].map((align) => (<button key={align} onClick={() => updateObject(selectedObject.id, { data: { ...(selectedObject.data as any), align } })} className={cn(\"flex-1 flex justify-center py-1 rounded text-neutral-500 hover:bg-white hover:text-neutral-900 dark:hover:bg-neutral-700 transition-all\", (selectedObject.data as any).align === align && \"bg-white text-neutral-900 shadow-sm dark:bg-neutral-700 dark:text-white\")}>{align === 'left' && <AlignLeft className=\"size-3\" />}{align === 'center' && <AlignCenter className=\"size-3\" />}{align === 'right' && <AlignRight className=\"size-3\" />}</button>))}</div></div>\n          \n          {selectedObject.type === \"note\" && (\n            <div>\n              <label className=\"text-[10px] text-neutral-500 mb-1 block\">{t(\"verticalAlign\")}</label>\n              <div className=\"flex bg-neutral-100 dark:bg-neutral-800 rounded-md p-1 gap-1\">\n                {['top', 'center', 'bottom'].map((align) => (\n                  <button \n                    key={align} \n                    onClick={() => updateObject(selectedObject.id, { data: { ...(selectedObject.data as any), verticalAlign: align } })} \n                    className={cn(\n                      \"flex-1 flex justify-center py-1 rounded text-neutral-500 hover:bg-white hover:text-neutral-900 dark:hover:bg-neutral-700 transition-all\", \n                      ((selectedObject.data as any).verticalAlign || 'top') === align && \"bg-white text-neutral-900 shadow-sm dark:bg-neutral-700 dark:text-white\"\n                    )}\n                  >\n                    {align === 'top' && <AlignLeft className=\"size-3 rotate-90\" />}\n                    {align === 'center' && <AlignCenter className=\"size-3 rotate-90\" />}\n                    {align === 'bottom' && <AlignRight className=\"size-3 rotate-90\" />}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div>\n            <label className=\"text-[10px] text-neutral-500 mb-1 block\">\n              {selectedObject.type === \"note\" ? t(\"strokeColor\") : t(\"fillColor\")}\n            </label>\n            <div className=\"flex flex-wrap gap-2\">\n              {textColors.map(color => (\n                <button \n                  key={color} \n                  onClick={() => updateObject(selectedObject.id, { data: { ...(selectedObject.data as any), [selectedObject.type === 'note' ? 'textColor' : 'color']: color } })} \n                  className={cn(\n                    \"size-6 rounded-full border transition-transform hover:scale-110\",\n                    ((selectedObject.type === 'note' ? (selectedObject.data as any).textColor : (selectedObject.data as any).color) === color) && \"ring-2 ring-[var(--primary)] ring-offset-1 border-transparent\"\n                  )} \n                  style={{ backgroundColor: color }} \n                />\n              ))}\n              <div className=\"relative size-6 rounded-full overflow-hidden border border-neutral-200 dark:border-neutral-700 hover:scale-110 transition-transform\">\n                <input \n                  type=\"color\" \n                  value={(selectedObject.type === 'note' ? (selectedObject.data as any).textColor : (selectedObject.data as any).color) || \"#000000\"} \n                  onChange={(e) => updateObject(selectedObject.id, { data: { ...(selectedObject.data as any), [selectedObject.type === 'note' ? 'textColor' : 'color']: e.target.value } })} \n                  className=\"absolute -top-2 -left-2 size-10 p-0 border-0 cursor-pointer\"\n                />\n                <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center bg-white/20 backdrop-blur-[1px]\">\n                  <div className=\"size-2 rounded-full bg-gradient-to-br from-red-500 via-green-500 to-blue-500\" />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {selectedObject.type === \"note\" && (\n            <>\n              <div><label className=\"text-[10px] text-neutral-500 mb-1 block\">{t(\"background\")}</label><div className=\"flex gap-2\">{['#FFF2CC', '#FFD1D1', '#D1FFD6', '#D1F4FF', '#FAD1FF'].map(color => (<button key={color} onClick={() => updateObject(selectedObject.id, { data: { ...(selectedObject.data as any), color } })} className={cn(\"size-6 rounded-full border shadow-sm\", (selectedObject.data as any).color === color && \"ring-2 ring-[var(--primary)] ring-offset-1\")} style={{ backgroundColor: color }} />))}</div></div>\n            </>\n          )}\n        </div>\n      )}\n      {/* ... Shape & Image & Transform props ... */}\n      {selectedObject.type === \"shape\" && (<div className=\"space-y-3 pb-3 border-b border-neutral-200 dark:border-neutral-700\"><div><label className=\"text-[10px] text-neutral-500 mb-1 block\">Shape Type</label><select className=\"w-full h-8 rounded-md border border-neutral-200 bg-white text-xs px-2 dark:bg-neutral-800 dark:border-neutral-700\" style={{ \"--ring\": highlightColor } as React.CSSProperties} value={(selectedObject.data as any).shapeType} onChange={(e) => setShapeSettings({ shapeType: e.target.value as any })}><option value=\"rectangle\">Rectangle</option><option value=\"rounded_rectangle\">Rounded Rectangle</option><option value=\"ellipse\">Ellipse</option><option value=\"circle\">Circle</option><option value=\"triangle\">Triangle</option><option value=\"line\">Line</option><option value=\"arrow\">Arrow</option><option value=\"star\">Star</option><option value=\"cloud\">Cloud</option><option value=\"speech_bubble\">Speech Bubble</option></select></div><div className=\"grid grid-cols-2 gap-2\"><div><label className=\"text-[10px] text-neutral-500 mb-1 block\">{t(\"fillColor\")}</label><div className=\"flex items-center gap-2\"><input type=\"color\" value={shapeSettings.fillColor} onChange={(e) => setShapeSettings({ fillColor: e.target.value })} className=\"size-6 border-0 p-0 rounded cursor-pointer\" /></div></div><div><label className=\"text-[10px] text-neutral-500 mb-1 block\">{t(\"strokeColor\")}</label><div className=\"flex items-center gap-2\"><input type=\"color\" value={shapeSettings.strokeColor} onChange={(e) => setShapeSettings({ strokeColor: e.target.value })} className=\"size-6 border-0 p-0 rounded cursor-pointer\" /></div></div></div><div><label className=\"text-[10px] text-neutral-500 mb-1 block\">Border Type</label><Select value={shapeSettings.borderType} onValueChange={(value: any) => setShapeSettings({ borderType: value })}><SelectTrigger className=\"w-full h-8 text-xs\"><SelectValue placeholder=\"Select border\" /></SelectTrigger><SelectContent><SelectItem value=\"solid\"><div className=\"flex items-center gap-2 w-24\"><div className=\"h-0.5 w-full bg-current\" /></div></SelectItem><SelectItem value=\"dashed\"><div className=\"flex items-center gap-2 w-24\"><div className=\"h-0.5 w-full border-t-2 border-dashed border-current\" /></div></SelectItem><SelectItem value=\"dotted\"><div className=\"flex items-center gap-2 w-24\"><div className=\"h-0.5 w-full border-t-2 border-dotted border-current\" /></div></SelectItem><SelectItem value=\"bold\"><div className=\"flex items-center gap-2 w-24\"><div className=\"h-1 w-full bg-current\" /></div></SelectItem><SelectItem value=\"none\"><span className=\"text-xs text-muted-foreground\">None</span></SelectItem></SelectContent></Select></div></div>) }\n      {selectedObject.type === \"image\" && (<div className=\"space-y-3 pb-3 border-b border-neutral-200 dark:border-neutral-700\"><div className=\"flex items-center gap-2\"><ImageIcon className=\"size-4 text-neutral-500\" /><span className=\"text-xs font-medium\">{t(\"imageSettings\")}</span></div><div><label className=\"mb-2 flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400\"><span>{t(\"opacity\")}</span><span className=\"font-medium\">{Math.round((selectedObject.data as any).opacity * 100)}%</span></label><Slider value={[(selectedObject.data as any).opacity * 100]} onValueChange={([value]) => updateObject(selectedObject.id, { data: { ...(selectedObject.data as any), opacity: value / 100 } })} min={0} max={100} step={1} className=\"w-full\" /></div><div><label className=\"text-[10px] text-neutral-500 mb-1 block\">Blend Mode</label><select className=\"w-full h-8 rounded-md border border-neutral-200 bg-white text-xs px-2 dark:bg-neutral-800 dark:border-neutral-700\" value={(selectedObject.data as any).blendMode || 'normal'} onChange={(e) => updateObject(selectedObject.id, { data: { ...(selectedObject.data as any), blendMode: e.target.value } })}><option value=\"normal\">Normal</option><option value=\"multiply\">Multiply</option><option value=\"screen\">Screen</option><option value=\"overlay\">Overlay</option></select></div></div>)}\n      <div><label className=\"mb-2 block text-xs font-medium text-neutral-600 dark:text-neutral-400\">{t(\"position\")}</label><div className=\"grid grid-cols-2 gap-2\"><div><label className=\"mb-1 block text-xs text-neutral-500\">X</label><input type=\"number\" value={Math.round(selectedObject.transform.x)} onChange={(e) => updateObject(selectedObject.id, { transform: { ...selectedObject.transform, x: parseFloat(e.target.value) } })} className=\"w-full rounded-lg border border-neutral-200 bg-white px-2 py-1 text-sm dark:border-neutral-700 dark:bg-neutral-800 focus:ring-2 focus:border-transparent outline-none\" style={{ \"--ring\": highlightColor } as React.CSSProperties} /></div><div><label className=\"mb-1 block text-xs text-neutral-500\">Y</label><input type=\"number\" value={Math.round(selectedObject.transform.y)} onChange={(e) => updateObject(selectedObject.id, { transform: { ...selectedObject.transform, y: parseFloat(e.target.value) } })} className=\"w-full rounded-lg border border-neutral-200 bg-white px-2 py-1 text-sm dark:border-neutral-700 dark:bg-neutral-800 focus:ring-2 focus:border-transparent outline-none\" style={{ \"--ring\": highlightColor } as React.CSSProperties} /></div></div></div><div><label className=\"mb-2 flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400\"><span>{t(\"rotation\")}</span><span className=\"font-medium\">{Math.round(selectedObject.transform.rotation)}°</span></label><Slider value={[selectedObject.transform.rotation]} onValueChange={([value]) => updateObject(selectedObject.id, { transform: { ...selectedObject.transform, rotation: value } })} min={-180} max={180} step={1} className=\"w-full\" /></div>\n    </div>\n  )\n}\n\nfunction LayersSection() {\n  const { layers, activeLayerId, setActiveLayer, updateLayer, deleteLayer, addLayer, objects, moveLayer, moveObjectToLayer, highlightColor, reorderLayer, reorderObjectInLayer, deleteObject, updateObject } = useHaloboardStore()\n  const { t } = useTranslation()\n  const [expandedLayers, setExpandedLayers] = useState<string[]>(['layer-1'])\n  const toggleExpand = (id: string) => setExpandedLayers(prev => prev.includes(id) ? prev.filter(l => l !== id) : [...prev, id])\n  const handleLayerDragStart = (e: React.DragEvent, index: number) => { e.dataTransfer.setData('layerIndex', index.toString()) }\n  const handleLayerDrop = (e: React.DragEvent, dropIndex: number) => { e.preventDefault(); const dragIndex = Number(e.dataTransfer.getData('layerIndex')); if (!isNaN(dragIndex) && dragIndex !== dropIndex) reorderLayer(dragIndex, dropIndex) }\n\n  return (\n    <div className=\"flex flex-col gap-2 pt-2\">\n      <div className=\"flex items-center justify-between mb-2\"><span className=\"text-[10px] text-neutral-400 uppercase font-semibold tracking-wider\">{t(\"stack\")}</span><Button variant=\"ghost\" size=\"sm\" onClick={() => addLayer(t(\"newLayer\") + \" \" + (layers.length + 1))} className=\"h-6 px-2 text-xs gap-1\"><Plus className=\"size-3\" /> {t(\"newLayer\")}</Button></div>\n      {layers.map((layer, index) => (\n        <div key={layer.id} draggable onDragStart={(e) => handleLayerDragStart(e, index)} onDragOver={(e) => e.preventDefault()} onDrop={(e) => handleLayerDrop(e, index)} className={cn(\"rounded-lg border transition-all\", activeLayerId === layer.id ? \"bg-accent/50\" : \"border-neutral-100 bg-white/50 dark:border-neutral-800 dark:bg-neutral-800/30\")} style={activeLayerId === layer.id ? { borderColor: highlightColor, backgroundColor: `${highlightColor}10` } : {}}>\n          <div className=\"flex items-center gap-2 p-2 cursor-pointer\" onClick={() => setActiveLayer(layer.id)}>\n            <div className=\"cursor-grab active:cursor-grabbing text-neutral-400\"><GripVertical className=\"size-3\" /></div>\n            <button onClick={(e) => { e.stopPropagation(); toggleExpand(layer.id) }} className=\"p-0.5 rounded hover:bg-black/5\">{expandedLayers.includes(layer.id) ? <ChevronDown className=\"size-3\" /> : <ChevronRight className=\"size-3\" />}</button>\n            <input \n              type=\"text\" \n              value={layer.name} \n              onClick={(e) => e.stopPropagation()} \n              onChange={(e) => updateLayer(layer.id, { name: e.target.value })} \n              className=\"bg-transparent text-sm font-medium text-neutral-800 outline-none dark:text-neutral-200 w-full focus:bg-white dark:focus:bg-neutral-700 px-1 rounded focus:ring-1\" \n              style={{ \"--ring\": highlightColor } as React.CSSProperties}\n            />\n            <div className=\"flex items-center gap-0.5\"><button onClick={(e) => { e.stopPropagation(); updateLayer(layer.id, { visible: !layer.visible }) }} className=\"rounded p-1 hover:bg-black/5 dark:hover:bg-white/5\">{layer.visible ? <Eye className=\"size-3.5 text-neutral-600 dark:text-neutral-400\" /> : <EyeOff className=\"size-3.5 text-neutral-400\" />}</button><button onClick={(e) => { e.stopPropagation(); updateLayer(layer.id, { locked: !layer.locked }) }} className=\"rounded p-1 hover:bg-black/5 dark:hover:bg-white/5\">{layer.locked ? <Lock className=\"size-3.5 text-neutral-600 dark:text-neutral-400\" /> : <LockOpen className=\"size-3.5 text-neutral-400\" />}</button>{layers.length > 1 && (<button onClick={(e) => { e.stopPropagation(); deleteLayer(layer.id) }} className=\"rounded p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20\"><Trash2 className=\"size-3.5\" /></button>)}</div>\n          </div>\n          {expandedLayers.includes(layer.id) && (<div className=\"px-2 pb-2 space-y-1 border-t border-neutral-200/50 dark:border-neutral-700/50 mt-1 pt-1\">{layer.objectIds.length === 0 ? (<div className=\"text-[10px] text-neutral-400 pl-6 italic\">Empty layer</div>) : (layer.objectIds.map((objId, idx) => { const obj = objects.find(o => o.id === objId); if (!obj) return null; return (<div key={objId} draggable onDragStart={(e) => { e.stopPropagation(); e.dataTransfer.setData('objId', objId); e.dataTransfer.setData('sourceLayer', layer.id) }} onDragOver={(e) => e.preventDefault()} onDrop={(e) => { e.preventDefault(); e.stopPropagation(); const droppedId = e.dataTransfer.getData('objId'); if(droppedId) reorderObjectInLayer(droppedId, layer.id, idx) }} className=\"flex items-center justify-between group pl-2 pr-2 py-1 rounded hover:bg-black/5 dark:hover:bg-white/5 text-xs cursor-grab active:cursor-grabbing\"><div className=\"flex items-center gap-2 flex-1 min-w-0\"><GripVertical className=\"size-3 text-neutral-400 flex-shrink-0\" /><span className=\"text-[10px] text-neutral-400 uppercase w-8 flex-shrink-0\">{obj.type}</span><input type=\"text\" value={obj.name} onClick={(e) => e.stopPropagation()} onChange={(e) => updateObject(obj.id, { name: e.target.value })} className=\"bg-transparent text-xs text-neutral-600 dark:text-neutral-300 outline-none w-full focus:bg-white dark:focus:bg-neutral-700 px-1 rounded focus:ring-1 min-w-0\" style={{ \"--ring\": highlightColor } as React.CSSProperties} /></div><button onClick={() => deleteObject(objId)} className=\"p-0.5 hover:text-red-500 opacity-0 group-hover:opacity-100\"><Trash2 className=\"size-3\" /></button></div>) }))}</div>)}\n        </div>\n      ))}\n    </div>\n  )\n}\n\nfunction HistorySection() {\n  const { history, historyIndex, setHistoryIndex, undo, redo } = useHaloboardStore()\n  const { t } = useTranslation()\n  return (\n    <div className=\"flex flex-col gap-2 pt-2\"><div className=\"flex gap-2 mb-2\"><Button variant=\"outline\" size=\"sm\" onClick={undo} disabled={historyIndex <= 0} className=\"flex-1 gap-1 h-8\"><RotateCcw className=\"size-3\" /> {t(\"undo\")}</Button><Button variant=\"outline\" size=\"sm\" onClick={redo} disabled={historyIndex >= history.length - 1} className=\"flex-1 gap-1 h-8\"><Clock className=\"size-3\" /> {t(\"redo\")}</Button></div><ScrollArea className=\"h-32 rounded-md border border-neutral-200 dark:border-neutral-800 bg-white/50 dark:bg-neutral-900/50\"><div className=\"p-2 space-y-1\">{history.map((_, i) => (<button key={i} onClick={() => setHistoryIndex(i)} className={cn(\"w-full text-left px-2 py-1 text-xs rounded transition-colors truncate\", i === historyIndex ? \"bg-[#0A84FF]/10 text-[#0A84FF] font-medium\" : \"text-neutral-600 hover:bg-black/5 dark:text-neutral-400 dark:hover:bg-white/5\")}>{i === 0 ? t(\"initialState\") : `${t(\"action\")} ${i}`} {i === historyIndex && `(${t(\"current\")})`}</button>))}</div></ScrollArea></div>\n  )\n}\nfunction ChatSection() { \n  const { t } = useTranslation()\n  return <div className=\"flex flex-col h-64 pt-2\"><div className=\"flex-1 flex items-center justify-center text-xs text-neutral-400\">{t(\"chat\")} disabled in offline mode</div></div> \n}\n\nexport function RightPanel() {\n  const { t } = useTranslation()\n  const { highlightColor } = useHaloboardStore()\n  \n  return (\n    <aside \n      className=\"fixed right-4 top-20 bottom-4 w-72 z-30 flex flex-col gap-3 pointer-events-none\"\n      style={{ \"--primary\": highlightColor, \"--ring\": highlightColor } as React.CSSProperties}\n    >\n      <div className=\"flex-1 overflow-y-auto pr-1 pb-1 pointer-events-auto flex flex-col gap-3\">\n        <PanelSection title={t(\"properties\")}><PropertiesSection /></PanelSection>\n        <PanelSection title={t(\"layers\")}><LayersSection /></PanelSection>\n        <PanelSection title={t(\"history\")} defaultOpen={false}><HistorySection /></PanelSection>\n        <PanelSection title={t(\"chat\")} defaultOpen={false}><ChatSection /></PanelSection>\n      </div>\n    </aside>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8483, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/collaboration-cursors.tsx"],"sourcesContent":["\"use client\"\n\nimport { useHaloboardStore } from \"@/lib/store\"\nimport { MousePointer2 } from \"lucide-react\"\n\nexport function CollaborationCursors() {\n  const { users, currentUserId, zoom, panX, panY } = useHaloboardStore()\n\n  // Filter out current user and users without cursor position\n  const otherUsers = users.filter((user) => user.id !== currentUserId && user.cursor)\n\n  return (\n    <>\n      {otherUsers.map((user) => (\n        <div\n          key={user.id}\n          className=\"pointer-events-none absolute z-50 transition-transform duration-100\"\n          style={{\n            left: `${user.cursor!.x * zoom + panX}px`,\n            top: `${user.cursor!.y * zoom + panY}px`,\n            transform: \"translate(-2px, -2px)\",\n          }}\n        >\n          {/* Cursor Icon */}\n          <MousePointer2 className=\"size-5 drop-shadow-lg\" style={{ color: user.color }} fill={user.color} />\n\n          {/* User Name Label */}\n          <div\n            className=\"mt-1 whitespace-nowrap rounded-md px-2 py-1 text-xs font-medium text-white shadow-lg\"\n            style={{ backgroundColor: user.color }}\n          >\n            {user.name}\n          </div>\n        </div>\n      ))}\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd,MAAM,EAAE,KAAK,EAAE,aAAa,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,IAAA,iIAAiB;IAEpE,4DAA4D;IAC5D,MAAM,aAAa,MAAM,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,iBAAiB,KAAK,MAAM;IAElF,qBACE;kBACG,WAAW,GAAG,CAAC,CAAC,qBACf,8OAAC;gBAEC,WAAU;gBACV,OAAO;oBACL,MAAM,GAAG,KAAK,MAAM,CAAE,CAAC,GAAG,OAAO,KAAK,EAAE,CAAC;oBACzC,KAAK,GAAG,KAAK,MAAM,CAAE,CAAC,GAAG,OAAO,KAAK,EAAE,CAAC;oBACxC,WAAW;gBACb;;kCAGA,8OAAC,6OAAa;wBAAC,WAAU;wBAAwB,OAAO;4BAAE,OAAO,KAAK,KAAK;wBAAC;wBAAG,MAAM,KAAK,KAAK;;;;;;kCAG/F,8OAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,iBAAiB,KAAK,KAAK;wBAAC;kCAEpC,KAAK,IAAI;;;;;;;eAhBP,KAAK,EAAE;;;;;;AAsBtB"}},
    {"offset": {"line": 8541, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/floating-chat-messages.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport type { ChatMessage } from \"@/lib/types\"\n\ninterface FloatingMessage extends ChatMessage {\n  x: number\n  y: number\n  visible: boolean\n}\n\nexport function FloatingChatMessages() {\n  const [floatingMessages, setFloatingMessages] = useState<FloatingMessage[]>([])\n  const { chatMessages, users, zoom, panX, panY } = useHaloboardStore()\n\n  // Show new messages as floating bubbles above user cursors\n  useEffect(() => {\n    const latestMessage = chatMessages[chatMessages.length - 1]\n    if (!latestMessage) return\n\n    // Find user and their cursor position\n    const user = users.find((u) => u.id === latestMessage.userId)\n    if (!user || !user.cursor) return\n\n    // Check if this message is already floating\n    const alreadyFloating = floatingMessages.some((fm) => fm.id === latestMessage.id)\n    if (alreadyFloating) return\n\n    // Add floating message\n    const newFloatingMessage: FloatingMessage = {\n      ...latestMessage,\n      x: user.cursor.x,\n      y: user.cursor.y - 60, // Position above cursor\n      visible: true,\n    }\n\n    setFloatingMessages((prev) => [...prev, newFloatingMessage])\n\n    // Remove after 3 seconds\n    setTimeout(() => {\n      setFloatingMessages((prev) => prev.map((fm) => (fm.id === latestMessage.id ? { ...fm, visible: false } : fm)))\n\n      // Clean up after fade animation\n      setTimeout(() => {\n        setFloatingMessages((prev) => prev.filter((fm) => fm.id !== latestMessage.id))\n      }, 300)\n    }, 3000)\n  }, [chatMessages])\n\n  return (\n    <>\n      {floatingMessages.map((msg) => {\n        const user = users.find((u) => u.id === msg.userId)\n\n        return (\n          <div\n            key={msg.id}\n            className={`pointer-events-none absolute z-40 max-w-xs transition-opacity duration-300 ${\n              msg.visible ? \"opacity-100\" : \"opacity-0\"\n            }`}\n            style={{\n              left: `${msg.x * zoom + panX}px`,\n              top: `${msg.y * zoom + panY}px`,\n            }}\n          >\n            <div className=\"rounded-lg bg-neutral-800 px-3 py-2 text-sm text-white shadow-lg dark:bg-neutral-700\">\n              <div className=\"mb-1 text-xs font-medium\" style={{ color: user?.color }}>\n                {user?.name}\n              </div>\n              <div>{msg.content}</div>\n            </div>\n            {/* Speech bubble tail */}\n            <div\n              className=\"absolute left-4 top-full h-0 w-0\"\n              style={{\n                borderLeft: \"6px solid transparent\",\n                borderRight: \"6px solid transparent\",\n                borderTop: \"6px solid rgb(38, 38, 38)\",\n              }}\n            />\n          </div>\n        )\n      })}\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYO,SAAS;IACd,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAoB,EAAE;IAC9E,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,IAAA,iIAAiB;IAEnE,2DAA2D;IAC3D,IAAA,kNAAS,EAAC;QACR,MAAM,gBAAgB,YAAY,CAAC,aAAa,MAAM,GAAG,EAAE;QAC3D,IAAI,CAAC,eAAe;QAEpB,sCAAsC;QACtC,MAAM,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,cAAc,MAAM;QAC5D,IAAI,CAAC,QAAQ,CAAC,KAAK,MAAM,EAAE;QAE3B,4CAA4C;QAC5C,MAAM,kBAAkB,iBAAiB,IAAI,CAAC,CAAC,KAAO,GAAG,EAAE,KAAK,cAAc,EAAE;QAChF,IAAI,iBAAiB;QAErB,uBAAuB;QACvB,MAAM,qBAAsC;YAC1C,GAAG,aAAa;YAChB,GAAG,KAAK,MAAM,CAAC,CAAC;YAChB,GAAG,KAAK,MAAM,CAAC,CAAC,GAAG;YACnB,SAAS;QACX;QAEA,oBAAoB,CAAC,OAAS;mBAAI;gBAAM;aAAmB;QAE3D,yBAAyB;QACzB,WAAW;YACT,oBAAoB,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,KAAQ,GAAG,EAAE,KAAK,cAAc,EAAE,GAAG;wBAAE,GAAG,EAAE;wBAAE,SAAS;oBAAM,IAAI;YAEzG,gCAAgC;YAChC,WAAW;gBACT,oBAAoB,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,KAAO,GAAG,EAAE,KAAK,cAAc,EAAE;YAC9E,GAAG;QACL,GAAG;IACL,GAAG;QAAC;KAAa;IAEjB,qBACE;kBACG,iBAAiB,GAAG,CAAC,CAAC;YACrB,MAAM,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,IAAI,MAAM;YAElD,qBACE,8OAAC;gBAEC,WAAW,CAAC,2EAA2E,EACrF,IAAI,OAAO,GAAG,gBAAgB,aAC9B;gBACF,OAAO;oBACL,MAAM,GAAG,IAAI,CAAC,GAAG,OAAO,KAAK,EAAE,CAAC;oBAChC,KAAK,GAAG,IAAI,CAAC,GAAG,OAAO,KAAK,EAAE,CAAC;gBACjC;;kCAEA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;gCAA2B,OAAO;oCAAE,OAAO,MAAM;gCAAM;0CACnE,MAAM;;;;;;0CAET,8OAAC;0CAAK,IAAI,OAAO;;;;;;;;;;;;kCAGnB,8OAAC;wBACC,WAAU;wBACV,OAAO;4BACL,YAAY;4BACZ,aAAa;4BACb,WAAW;wBACb;;;;;;;eAtBG,IAAI,EAAE;;;;;QA0BjB;;AAGN"}},
    {"offset": {"line": 8652, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn('aspect-square size-full', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        'bg-muted flex size-full items-center justify-center rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,8OAAC,8KAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 8705, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport { useTranslation } from \"@/lib/i18n\"\nimport { \n  LayoutGrid, Clock, Star, Users, Trash2, Search, Plus, \n  MoreVertical, Settings, LogOut \n} from \"lucide-react\"\nimport { Input } from \"@/components/ui/input\"\nimport { Button } from \"@/components/ui/button\"\nimport { cn } from \"@/lib/utils\"\nimport { SettingsModal } from \"./settings-modal\"\nimport { formatDistanceToNow } from \"date-fns\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Label } from \"@/components/ui/label\"\nimport { X } from \"lucide-react\"\n\nexport function Dashboard() {\n  const { \n    projects, \n    createNewProject, \n    loadProjectById, \n    deleteProject, \n    highlightColor,\n    canvasSettings\n  } = useHaloboardStore()\n  \n  const { t } = useTranslation()\n  const [activeTab, setActiveTab] = useState(\"dashboard\")\n  const [showSettings, setShowSettings] = useState(false)\n  const [showNewProjectModal, setShowNewProjectModal] = useState(false)\n  const [searchQuery, setSearchQuery] = useState(\"\")\n\n  // New Project State\n  const [projectName, setProjectName] = useState(\"Untitled Project\")\n  const [projectMode, setProjectMode] = useState<\"infinite\" | \"fixed\">(\"infinite\")\n  const [projectWidth, setProjectWidth] = useState(1920)\n  const [projectHeight, setProjectHeight] = useState(1080)\n  const [projectBg, setProjectBg] = useState(\"#ffffff\")\n\n  const filteredProjects = projects.filter(p => \n    p.name.toLowerCase().includes(searchQuery.toLowerCase())\n  )\n\n  const timeAgo = (timestamp: number) => {\n    try {\n      return formatDistanceToNow(timestamp, { addSuffix: true })\n    } catch (e) {\n      return \"recently\"\n    }\n  }\n\n  const handleCreateProject = () => {\n     createNewProject({ \n         projectName: projectName.trim() || t(\"untitledProject\"), \n         infinite: projectMode === \"infinite\", \n         width: projectWidth, \n         height: projectHeight, \n         backgroundColor: projectBg \n     })\n     setShowNewProjectModal(false)\n  }\n\n  return (\n    <div className=\"flex h-screen w-full bg-[#F9F9F9] dark:bg-[#171717] text-neutral-900 dark:text-neutral-100\">\n      <SettingsModal isOpen={showSettings} onClose={() => setShowSettings(false)} />\n      \n      {/* New Project Modal (Reused Logic) */}\n      {showNewProjectModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n          <div className=\"relative w-full max-w-md rounded-xl border border-white/20 bg-white/95 p-6 shadow-2xl backdrop-blur-xl dark:border-white/10 dark:bg-neutral-900/95 transition-all\" style={{ \"--ring\": highlightColor } as React.CSSProperties}>\n            <button onClick={() => setShowNewProjectModal(false)} className=\"absolute right-4 top-4 rounded-lg p-1 hover:bg-black/5 dark:hover:bg-white/5\"><X className=\"size-5 text-neutral-600 dark:text-neutral-400\" /></button>\n            <h2 className=\"text-xl font-bold text-neutral-800 dark:text-neutral-200 mb-6\">{t(\"newProject\")}</h2>\n            <div className=\"space-y-6\">\n              <div className=\"space-y-2\"><Label>Project Name</Label><Input value={projectName} onChange={(e) => setProjectName(e.target.value)} placeholder={t(\"untitledProject\")} className=\"focus-visible:ring-[var(--ring)]\" /></div>\n              <div className=\"space-y-3\"><Label className=\"text-xs font-medium text-neutral-500 uppercase\">Canvas Mode</Label><div className=\"grid grid-cols-2 gap-2\"><button onClick={() => setProjectMode(\"infinite\")} className={cn(\"flex flex-col items-center justify-center gap-2 rounded-lg border-2 p-4 transition-all\", projectMode === \"infinite\" ? \"bg-[#0A84FF]/5 text-[#0A84FF]\" : \"border-neutral-200 bg-transparent text-neutral-600 hover:border-neutral-300 dark:border-neutral-800 dark:text-neutral-400\")} style={{ borderColor: projectMode === \"infinite\" ? highlightColor : undefined, color: projectMode === \"infinite\" ? highlightColor : undefined }}><span className=\"font-semibold\">Infinite Canvas</span></button><button onClick={() => setProjectMode(\"fixed\")} className={cn(\"flex flex-col items-center justify-center gap-2 rounded-lg border-2 p-4 transition-all\", projectMode === \"fixed\" ? \"bg-[#0A84FF]/5 text-[#0A84FF]\" : \"border-neutral-200 bg-transparent text-neutral-600 hover:border-neutral-300 dark:border-neutral-800 dark:text-neutral-400\")} style={{ borderColor: projectMode === \"fixed\" ? highlightColor : undefined, color: projectMode === \"fixed\" ? highlightColor : undefined }}><span className=\"font-semibold\">Specific Resolution</span></button></div></div>\n              {projectMode === \"fixed\" && (<div className=\"space-y-4 animate-in fade-in zoom-in-95 duration-200\"><div className=\"grid grid-cols-2 gap-4\"><div className=\"space-y-1.5\"><Label>Width (px)</Label><Input type=\"number\" value={projectWidth} onChange={(e) => setProjectWidth(Number(e.target.value))} className=\"focus-visible:ring-[var(--ring)]\" /></div><div className=\"space-y-1.5\"><Label>Height (px)</Label><Input type=\"number\" value={projectHeight} onChange={(e) => setProjectHeight(Number(e.target.value))} className=\"focus-visible:ring-[var(--ring)]\" /></div></div><div className=\"space-y-2\"><Label>Background Color</Label><div className=\"flex items-center gap-3\"><button onClick={() => setProjectBg(\"#ffffff\")} className={cn(\"size-8 rounded-full border shadow-sm bg-white\", projectBg === \"#ffffff\" && \"ring-2 ring-offset-2\")} style={{ \"--ring\": highlightColor } as React.CSSProperties} /><button onClick={() => setProjectBg(\"#000000\")} className={cn(\"size-8 rounded-full border shadow-sm bg-black\", projectBg === \"#000000\" && \"ring-2 ring-offset-2\")} style={{ \"--ring\": highlightColor } as React.CSSProperties} /><div className=\"relative flex items-center\"><input type=\"color\" value={projectBg} onChange={(e) => setProjectBg(e.target.value)} className=\"size-8 p-0 border-0 rounded-full overflow-hidden cursor-pointer\" /></div><span className=\"text-sm font-mono text-neutral-500 uppercase\">{projectBg}</span></div></div></div>)}\n              <Button onClick={handleCreateProject} className=\"w-full hover:opacity-90 gap-2\" style={{ backgroundColor: highlightColor }}><Plus className=\"size-4\" /> {t(\"newProject\")}</Button>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Sidebar */}\n      <aside className=\"w-64 flex flex-col border-r border-neutral-200 dark:border-neutral-800 bg-white dark:bg-[#1E1E1E]\">\n        <div className=\"p-6 flex items-center gap-3\">\n          <div \n            className=\"size-8 rounded-lg flex items-center justify-center\"\n            style={{ background: `linear-gradient(135deg, ${highlightColor}, ${highlightColor}dd)` }}\n          >\n            <img \n              src=\"https://www.svgrepo.com/show/529121/palette-round.svg\" \n              alt=\"TeamPad\" \n              className=\"size-5 brightness-0 invert\" \n            />\n          </div>\n          <span className=\"font-bold text-xl tracking-tight\">TeamPad</span>\n        </div>\n\n        <div className=\"px-3 space-y-1\">\n          <button \n            onClick={() => setActiveTab(\"dashboard\")}\n            className={cn(\n              \"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors\",\n              activeTab === \"dashboard\" \n                ? \"bg-[#0A84FF]/10 text-[#0A84FF]\" \n                : \"text-neutral-600 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:bg-neutral-800\"\n            )}\n            style={activeTab === \"dashboard\" ? { color: highlightColor, backgroundColor: `${highlightColor}15` } : {}}\n          >\n            <LayoutGrid className=\"size-4\" />\n            {t(\"dashboard\")}\n          </button>\n          <button \n            onClick={() => setActiveTab(\"recent\")}\n            className={cn(\n              \"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors\",\n              activeTab === \"recent\" \n                ? \"bg-[#0A84FF]/10 text-[#0A84FF]\" \n                : \"text-neutral-600 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:bg-neutral-800\"\n            )}\n          >\n            <Clock className=\"size-4\" />\n            {t(\"recent\")}\n          </button>\n          <button \n            onClick={() => setActiveTab(\"favorites\")}\n            className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-neutral-600 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:bg-neutral-800\"\n          >\n            <Star className=\"size-4\" />\n            {t(\"favorites\")}\n          </button>\n          <button \n            onClick={() => setActiveTab(\"shared\")}\n            className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-neutral-600 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:bg-neutral-800\"\n          >\n            <Users className=\"size-4\" />\n            {t(\"sharedWithMe\")}\n          </button>\n          <button \n            onClick={() => setActiveTab(\"trash\")}\n            className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-neutral-600 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:bg-neutral-800\"\n          >\n            <Trash2 className=\"size-4\" />\n            {t(\"trash\")}\n          </button>\n        </div>\n\n        <div className=\"mt-auto p-4\">\n          <Button \n            onClick={() => setShowNewProjectModal(true)}\n            className=\"w-full gap-2 text-white\"\n            style={{ backgroundColor: highlightColor }}\n          >\n            <Plus className=\"size-4\" />\n            {t(\"newProject\")}\n          </Button>\n        </div>\n      </aside>\n\n      {/* Main Content */}\n      <main className=\"flex-1 flex flex-col overflow-hidden\">\n        <header className=\"h-16 border-b border-neutral-200 dark:border-neutral-800 bg-white dark:bg-[#1E1E1E] flex items-center justify-between px-6\">\n          <h1 className=\"text-lg font-semibold\">{t(\"dashboard\")}</h1>\n          \n          <div className=\"flex items-center gap-4\">\n             <button onClick={() => setShowSettings(true)} className=\"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full text-neutral-500\">\n               <Settings className=\"size-5\" />\n             </button>\n             <Avatar className=\"size-8\">\n                <AvatarImage src=\"/placeholder-user.jpg\" />\n                <AvatarFallback>U</AvatarFallback>\n             </Avatar>\n          </div>\n        </header>\n\n        <div className=\"flex-1 overflow-y-auto p-8\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <div>\n              <h2 className=\"text-2xl font-bold mb-1\">{t(\"myBoards\")}</h2>\n              <p className=\"text-neutral-500 text-sm\">An overview of your recent whiteboards.</p>\n            </div>\n            <div className=\"relative w-72\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-neutral-400\" />\n              <Input \n                placeholder={t(\"searchBoards\")} \n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-9 bg-neutral-100 dark:bg-neutral-800 border-transparent\" \n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n             {/* Create New Card */}\n             <div \n               onClick={() => setShowNewProjectModal(true)}\n               className=\"aspect-[4/3] rounded-xl border-2 border-dashed border-neutral-200 dark:border-neutral-800 flex flex-col items-center justify-center gap-3 cursor-pointer hover:border-[#0A84FF] hover:bg-[#0A84FF]/5 transition-all group\"\n               style={{ \"--hover-color\": highlightColor } as React.CSSProperties}\n             >\n                <div className=\"size-12 rounded-full bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                  <Plus className=\"size-6 text-neutral-500\" />\n                </div>\n                <span className=\"font-medium text-neutral-600 dark:text-neutral-400\">{t(\"newProject\")}</span>\n             </div>\n\n             {/* Project Cards */}\n             {filteredProjects.map((project) => (\n               <div key={project.id} className=\"group relative flex flex-col gap-2\">\n                 <div \n                   onClick={() => loadProjectById(project.id)}\n                   className=\"aspect-[4/3] rounded-xl bg-gradient-to-br from-neutral-100 to-neutral-200 dark:from-neutral-800 dark:to-neutral-900 overflow-hidden cursor-pointer shadow-sm hover:shadow-md transition-all relative\"\n                 >\n                   {/* Render Thumbnail if available, else Placeholder */}\n                   {project.thumbnail ? (\n                     <img src={project.thumbnail} alt={project.name} className=\"size-full object-cover\" />\n                   ) : (\n                     <div className=\"absolute inset-0 flex items-center justify-center text-neutral-300 dark:text-neutral-700\">\n                        <LayoutGrid className=\"size-12 opacity-20\" />\n                     </div>\n                   )}\n                   \n                   {/* Overlay Actions */}\n                   <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                      <button \n                        onClick={(e) => { e.stopPropagation(); deleteProject(project.id) }}\n                        className=\"p-1.5 bg-white/90 dark:bg-black/80 rounded-lg text-red-500 hover:text-red-600 shadow-sm\"\n                      >\n                        <Trash2 className=\"size-4\" />\n                      </button>\n                   </div>\n                 </div>\n                 \n                 <div className=\"px-1\">\n                   <h3 className=\"font-semibold truncate\">{project.name}</h3>\n                   <p className=\"text-xs text-neutral-500\">{t(\"edited\")} {timeAgo(project.lastEdited)}</p>\n                 </div>\n               </div>\n             ))}\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9561, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/components/welcome-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport { Button } from \"@/components/ui/button\"\nimport { useTranslation } from \"@/lib/i18n\"\nimport { LayoutGrid, ArrowRight } from \"lucide-react\"\n\nexport function WelcomeModal() {\n  const { \n    projects, \n    currentProjectId,\n    setActiveView, \n    highlightColor,\n    loadProjectById \n  } = useHaloboardStore()\n  const { t } = useTranslation()\n  const [isOpen, setIsOpen] = useState(false)\n  const [lastProject, setLastProject] = useState<string | null>(null)\n\n  useEffect(() => {\n    // Check if there's a last edited project\n    if (projects.length > 0) {\n      // Sort by last edited\n      const sorted = [...projects].sort((a, b) => b.lastEdited - a.lastEdited)\n      const recent = sorted[0]\n      \n      // If we are just loading app (not already in a view explicitly), and there's a recent project\n      // Logic: Use a session flag or just show on initial mount\n      // Here we just check on mount.\n      setLastProject(recent.id)\n      setIsOpen(true)\n    } else {\n      // No projects, go to dashboard\n      setActiveView(\"dashboard\")\n    }\n  }, [])\n\n  if (!isOpen || !lastProject) return null\n\n  const handleContinue = () => {\n    loadProjectById(lastProject)\n    setIsOpen(false)\n  }\n\n  const handleDashboard = () => {\n    setActiveView(\"dashboard\")\n    setIsOpen(false)\n  }\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300\">\n      <div className=\"relative w-full max-w-md rounded-2xl border border-white/20 bg-white p-8 shadow-2xl dark:border-white/10 dark:bg-[#1E1E1E] flex flex-col items-center text-center gap-6\">\n        <div className=\"size-16 rounded-2xl bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center\">\n          <span className=\"text-3xl\">👋</span>\n        </div>\n        \n        <div className=\"space-y-2\">\n          <h2 className=\"text-2xl font-bold text-neutral-900 dark:text-white\">\n            {t(\"welcomeBack\")}\n          </h2>\n          <p className=\"text-neutral-500 dark:text-neutral-400\">\n            {t(\"continueOldProject\")}\n          </p>\n        </div>\n\n        <div className=\"flex flex-col w-full gap-3\">\n          <Button \n            onClick={handleContinue}\n            className=\"w-full h-11 gap-2 text-base font-semibold shadow-lg hover:scale-[1.02] transition-transform\"\n            style={{ backgroundColor: highlightColor }}\n          >\n            {t(\"yesContinue\")} <ArrowRight className=\"size-4\" />\n          </Button>\n          \n          <Button \n            variant=\"ghost\"\n            onClick={handleDashboard}\n            className=\"w-full gap-2 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800\"\n          >\n            <LayoutGrid className=\"size-4\" />\n            {t(\"noDashboard\")}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AANA;;;;;;;AAQO,SAAS;IACd,MAAM,EACJ,QAAQ,EACR,gBAAgB,EAChB,aAAa,EACb,cAAc,EACd,eAAe,EAChB,GAAG,IAAA,iIAAiB;IACrB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,6HAAc;IAC5B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAgB;IAE9D,IAAA,kNAAS,EAAC;QACR,yCAAyC;QACzC,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,sBAAsB;YACtB,MAAM,SAAS;mBAAI;aAAS,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,UAAU,GAAG,EAAE,UAAU;YACvE,MAAM,SAAS,MAAM,CAAC,EAAE;YAExB,8FAA8F;YAC9F,0DAA0D;YAC1D,+BAA+B;YAC/B,eAAe,OAAO,EAAE;YACxB,UAAU;QACZ,OAAO;YACL,+BAA+B;YAC/B,cAAc;QAChB;IACF,GAAG,EAAE;IAEL,IAAI,CAAC,UAAU,CAAC,aAAa,OAAO;IAEpC,MAAM,iBAAiB;QACrB,gBAAgB;QAChB,UAAU;IACZ;IAEA,MAAM,kBAAkB;QACtB,cAAc;QACd,UAAU;IACZ;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAK,WAAU;kCAAW;;;;;;;;;;;8BAG7B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX,EAAE;;;;;;sCAEL,8OAAC;4BAAE,WAAU;sCACV,EAAE;;;;;;;;;;;;8BAIP,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qIAAM;4BACL,SAAS;4BACT,WAAU;4BACV,OAAO;gCAAE,iBAAiB;4BAAe;;gCAExC,EAAE;gCAAe;8CAAC,8OAAC,gOAAU;oCAAC,WAAU;;;;;;;;;;;;sCAG3C,8OAAC,qIAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,WAAU;;8CAEV,8OAAC,gOAAU;oCAAC,WAAU;;;;;;gCACrB,EAAE;;;;;;;;;;;;;;;;;;;;;;;;AAMf"}},
    {"offset": {"line": 9722, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/hooks/use-mobile.ts"],"sourcesContent":["import * as React from 'react'\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener('change', onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener('change', onChange)\n  }, [])\n\n  return !!isMobile\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,oBAAoB;AAEnB,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,iNAAc,CAAsB;IAEpE,kNAAe,CAAC;QACd,MAAM,MAAM,OAAO,UAAU,CAAC,CAAC,YAAY,EAAE,oBAAoB,EAAE,GAAG,CAAC;QACvE,MAAM,WAAW;YACf,YAAY,OAAO,UAAU,GAAG;QAClC;QACA,IAAI,gBAAgB,CAAC,UAAU;QAC/B,YAAY,OAAO,UAAU,GAAG;QAChC,OAAO,IAAM,IAAI,mBAAmB,CAAC,UAAU;IACjD,GAAG,EAAE;IAEL,OAAO,CAAC,CAAC;AACX"}},
    {"offset": {"line": 9746, "column": 0}, "map": {"version":3,"sources":["file:///home/anl/Desktop/Downloads/TeamPad-main/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { Canvas } from \"@/components/canvas\"\nimport { Toolbar } from \"@/components/toolbar\"\nimport { Header } from \"@/components/header\"\nimport { ZoomControls } from \"@/components/zoom-controls\"\nimport { RightPanel } from \"@/components/right-panel\"\nimport { CollaborationCursors } from \"@/components/collaboration-cursors\"\nimport { FloatingChatMessages } from \"@/components/floating-chat-messages\"\nimport { Dashboard } from \"@/components/dashboard\"\nimport { WelcomeModal } from \"@/components/welcome-modal\"\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { Smartphone, Maximize2, LayoutGrid } from \"lucide-react\"\nimport { useTheme } from \"next-themes\"\nimport { useHaloboardStore } from \"@/lib/store\"\nimport { useEffect, useState } from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport default function Home() {\n  const isMobile = useIsMobile()\n  const { theme } = useTheme()\n  const { activeView, isProjectMinimized, setIsProjectMinimized, canvasSettings, highlightColor } = useHaloboardStore()\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => setMounted(true), [])\n\n  if (isMobile) {\n    return (\n      <div className=\"flex h-screen w-full flex-col items-center justify-center bg-neutral-50 p-4 text-center dark:bg-neutral-950\">\n        <div className=\"mb-4 rounded-full bg-neutral-200 p-6 dark:bg-neutral-800\">\n          <Smartphone className=\"size-10 text-neutral-500\" />\n        </div>\n        <h1 className=\"mb-2 text-xl font-bold text-neutral-900 dark:text-neutral-100\">\n          Mobile support is currently unavailable\n        </h1>\n        <p className=\"max-w-xs text-sm text-neutral-500 dark:text-neutral-400\">\n          Please use a desktop or laptop device to access Haloboard features.\n        </p>\n      </div>\n    )\n  }\n\n  const isDark = mounted && theme === 'dark'\n  const bgColor = isDark ? '#171717' : '#F9F9F9'\n\n  return (\n    <div className=\"relative h-screen w-full overflow-hidden transition-colors duration-300\" style={{ backgroundColor: bgColor }}>\n      {/* Welcome Modal on mount */}\n      <WelcomeModal />\n\n      {/* DASHBOARD LAYER */}\n      <div \n        className={cn(\n          \"absolute inset-0 z-10 transition-all duration-500 ease-in-out\",\n          activeView === \"dashboard\" ? \"opacity-100 translate-y-0\" : \"opacity-0 -translate-y-full pointer-events-none\"\n        )}\n      >\n        <Dashboard />\n      </div>\n\n      {/* APP LAYER (Canvas + UI) */}\n      <div \n        className={cn(\n          \"absolute transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] shadow-2xl overflow-hidden bg-background\",\n          isProjectMinimized\n            ? \"w-64 h-16 right-6 bottom-6 rounded-xl border border-neutral-200 dark:border-neutral-800 hover:scale-105 cursor-pointer z-50 translate-y-0 opacity-100 bg-white dark:bg-[#1E1E1E]\" // Minimized: Bottom right, small bar\n            : \"inset-0 z-0 rounded-none translate-y-0\" // Maximized: Full screen\n        )}\n        onClick={() => {\n          if (isProjectMinimized) setIsProjectMinimized(false)\n        }}\n      >\n        {/* Minimized View Overlay */}\n        {isProjectMinimized ? (\n           <div className=\"flex items-center justify-between w-full h-full px-4\">\n             <div className=\"flex items-center gap-3 overflow-hidden\">\n                <div className=\"p-1.5 bg-neutral-100 dark:bg-neutral-800 rounded-lg shrink-0\">\n                   <LayoutGrid className=\"size-4 text-neutral-600 dark:text-neutral-400\" />\n                </div>\n                <span className=\"font-medium text-sm text-neutral-800 dark:text-neutral-200 truncate\">\n                  {canvasSettings.projectName}\n                </span>\n             </div>\n             <div className=\"p-1.5 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full transition-colors\">\n                <Maximize2 className=\"size-4 text-neutral-500\" />\n             </div>\n           </div>\n        ) : (\n          /* Actual App Content */\n          <div className=\"relative w-full h-full flex flex-col\">\n             <Header />\n             <main className=\"h-full w-full flex-1 pt-14 relative\">\n                <div className=\"relative h-full w-full\">\n                  <Canvas />\n                  <CollaborationCursors />\n                  <FloatingChatMessages />\n                </div>\n             </main>\n             <Toolbar />\n             <RightPanel />\n             <ZoomControls />\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAhBA;;;;;;;;;;;;;;;;;AAkBe,SAAS;IACtB,MAAM,WAAW,IAAA,qIAAW;IAC5B,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,4JAAQ;IAC1B,MAAM,EAAE,UAAU,EAAE,kBAAkB,EAAE,qBAAqB,EAAE,cAAc,EAAE,cAAc,EAAE,GAAG,IAAA,iIAAiB;IACnH,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC,IAAM,WAAW,OAAO,EAAE;IAEpC,IAAI,UAAU;QACZ,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,4NAAU;wBAAC,WAAU;;;;;;;;;;;8BAExB,8OAAC;oBAAG,WAAU;8BAAgE;;;;;;8BAG9E,8OAAC;oBAAE,WAAU;8BAA0D;;;;;;;;;;;;IAK7E;IAEA,MAAM,SAAS,WAAW,UAAU;IACpC,MAAM,UAAU,SAAS,YAAY;IAErC,qBACE,8OAAC;QAAI,WAAU;QAA0E,OAAO;YAAE,iBAAiB;QAAQ;;0BAEzH,8OAAC,+IAAY;;;;;0BAGb,8OAAC;gBACC,WAAW,IAAA,kHAAE,EACX,iEACA,eAAe,cAAc,8BAA8B;0BAG7D,cAAA,8OAAC,qIAAS;;;;;;;;;;0BAIZ,8OAAC;gBACC,WAAW,IAAA,kHAAE,EACX,mHACA,qBACI,mLAAmL,qCAAqC;mBACxN,yCAAyC,yBAAyB;;gBAExE,SAAS;oBACP,IAAI,oBAAoB,sBAAsB;gBAChD;0BAGC,mCACE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC;oCAAI,WAAU;8CACZ,cAAA,8OAAC,gOAAU;wCAAC,WAAU;;;;;;;;;;;8CAEzB,8OAAC;oCAAK,WAAU;8CACb,eAAe,WAAW;;;;;;;;;;;;sCAGhC,8OAAC;4BAAI,WAAU;sCACZ,cAAA,8OAAC,6NAAS;gCAAC,WAAU;;;;;;;;;;;;;;;;2BAI3B,sBAAsB,iBACtB,8OAAC;oBAAI,WAAU;;sCACZ,8OAAC,+HAAM;;;;;sCACP,8OAAC;4BAAK,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,+HAAM;;;;;kDACP,8OAAC,+JAAoB;;;;;kDACrB,8OAAC,mKAAoB;;;;;;;;;;;;;;;;sCAG1B,8OAAC,iIAAO;;;;;sCACR,8OAAC,2IAAU;;;;;sCACX,8OAAC,+IAAY;;;;;;;;;;;;;;;;;;;;;;AAM1B"}}]
}